import React, { useState, useMemo, useEffect, useRef } from 'react';
import Table from '../components/Table/Table';
import AdvancedTable from '../components/AdvancedTable/AdvancedTable';
import Button from '../components/Button/Button';
import Icon from '../components/Icon/Icon';
import Chip from '../components/Chip/Chip';
import Input from '../components/Input/Input';
import DemoBreadcrumb from '../components/DemoBreadcrumb/DemoBreadcrumb';
import BackToTop from '../components/BackToTop/BackToTop';
// import DemoComparison from '../components/DemoComparison/DemoComparison';
import { ODLThemeProvider } from '../theme/ODLThemeProvider';
import { DataGrid, /* Checkbox, */ GridColDef, GridRenderCellParams } from '@mui/x-data-grid';
import { // Checkbox, Box, Chip as MUIChip } from '@mui/material';
import { TableRowData } from '../types/common';
import ODLTheme from '../styles/ODLTheme';
import styles from './TableDemo.module.css';

interface BasicTableData extends TableRowData {
  id: number;
  name: string;
  email: string;
  role: string;
  department: string;
  status: 'Active' | 'Inactive' | 'Pending';
  joinDate: string;
  salary: number;
  [key: string]: unknown;
}

interface ProductData extends TableRowData {
  id: number;
  product: string;
  category: string;
  price: number;
  stock: number;
  rating: number;
  lastRestocked: string;
  [key: string]: unknown;
}

// Date formatting function
const formatDate = (dateString: string): string => {
  const date = new Date(dateString);
  const months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];
  const day = date.getDate().toString().padStart(2, '0');
  const month = months[date.getMonth()];
  const year = date.getFullYear();
  return `${day}-${month}-${year}`;
};

const TableDemo: React.FC = () => {
  const [showComparison, _setShowComparison] = useState(true);
  const [selectedDemo, setSelectedDemo] = useState<'basic' | 'advanced' | 'products' | 'interactive' | 'performance'>('basic');
  const [showCode, setShowCode] = useState(false);
  const [tableSettings, setTableSettings] = useState({
    paginated: true,
    selectable: true,
    striped: true,
    hoverable: true,
    compact: false,
    bordered: false,
  });
  const [loadingData, setLoadingData] = useState(false);
  const [showColumnMenu, setShowColumnMenu] = useState(false);
  const [hiddenColumns, setHiddenColumns] = useState<Set<string>>(new Set());
  const [showSearch, setShowSearch] = useState(false);
  const [searchTerm, setSearchTerm] = useState('');
  const columnMenuRef = useRef<HTMLDivElement>(null);

  // MUI DataGrid columns for basic table
  const muiBasicColumns: GridColDef[] = [
    { field: 'id', headerName: 'ID', width: 70 },
    { field: 'name', headerName: 'Name', width: 180, resizable: true },
    { field: 'email', headerName: 'Email', width: 220, resizable: true },
    { field: 'role', headerName: 'Role', width: 150, resizable: true },
    { field: 'department', headerName: 'Department', width: 140, resizable: true },
    {
      field: 'status',
      headerName: 'Status',
      width: 120,
      renderCell: (params: GridRenderCellParams) => (
        <MUIChip
          label={params.value}
          size="small"
          sx={{
            fontSize: '12px',
            fontWeight: 500,
            height: '24px',
            backgroundColor: params.value === 'Active' ? '#d4f4dd' :
                           params.value === 'Pending' ? '#fff3cd' : '#f8d7da',
            color: params.value === 'Active' ? '#1e7e34' :
                   params.value === 'Pending' ? '#856404' : '#721c24',
            '& .MuiChip-label': {
              px: 1.5,
              fontSize: '12px',
              fontWeight: 500
            }
          }}
        />
      )
    },
    { field: 'joinDate', headerName: 'Join Date', width: 130, resizable: true },
    {
      field: 'salary',
      headerName: 'Salary',
      width: 120,
      resizable: true,
      valueFormatter: (params: any) => `$${params?.toLocaleString() || 0}`
    }
  ];

  // MUI DataGrid columns for products table
  const muiProductColumns: GridColDef[] = [
    { field: 'id', headerName: 'ID', width: 70 },
    { field: 'product', headerName: 'Product Name', width: 200, resizable: true },
    { field: 'category', headerName: 'Category', width: 120, resizable: true },
    {
      field: 'price',
      headerName: 'Price',
      width: 100,
      resizable: true,
      valueFormatter: (params: any) => `$${params?.toFixed(2) || '0.00'}`
    },
    {
      field: 'stock',
      headerName: 'Stock',
      width: 120,
      resizable: true,
      renderCell: (params: GridRenderCellParams) => (
        <Box sx={{
          color: params.value < 50 ? '#d32f2f' : '#2e7d32',
          fontWeight: params.value < 50 ? 600 : 400
        }}>
          {params.value} units
        </Box>
      )
    },
    {
      field: 'rating',
      headerName: 'Rating',
      width: 100,
      resizable: true,
      valueFormatter: (params: any) => `â­ ${params || 0}/5`
    },
    { field: 'lastRestocked', headerName: 'Last Restocked', width: 140, resizable: true }
  ];

  // Close dropdown when clicking outside
  useEffect(() => {
    const handleClickOutside = (event: MouseEvent) => {
      if (columnMenuRef.current && !columnMenuRef.current.contains(event.target as Node)) {
        setShowColumnMenu(false);
      }
    };

    if (showColumnMenu) {
      document.addEventListener('mousedown', handleClickOutside);
    }

    return () => {
      document.removeEventListener('mousedown', handleClickOutside);
    };
  }, [showColumnMenu]);

  // Sample data for basic table
  const basicTableData: BasicTableData[] = [
    { id: 1, name: 'John Doe', email: 'john.doe@example.com', role: 'Developer', department: 'Engineering', status: 'Active', joinDate: '2023-01-15', salary: 75000 },
    { id: 2, name: 'Jane Smith', email: 'jane.smith@example.com', role: 'Designer', department: 'Design', status: 'Active', joinDate: '2023-02-20', salary: 70000 },
    { id: 3, name: 'Bob Johnson', email: 'bob.johnson@example.com', role: 'Manager', department: 'Management', status: 'Active', joinDate: '2022-11-10', salary: 85000 },
    { id: 4, name: 'Alice Brown', email: 'alice.brown@example.com', role: 'Developer', department: 'Engineering', status: 'Inactive', joinDate: '2023-03-05', salary: 72000 },
    { id: 5, name: 'Charlie Wilson', email: 'charlie.wilson@example.com', role: 'Analyst', department: 'Analytics', status: 'Active', joinDate: '2023-04-12', salary: 65000 },
    { id: 6, name: 'Emma Davis', email: 'emma.davis@example.com', role: 'Developer', department: 'Engineering', status: 'Active', joinDate: '2023-05-18', salary: 78000 },
    { id: 7, name: 'Frank Miller', email: 'frank.miller@example.com', role: 'Designer', department: 'Design', status: 'Pending', joinDate: '2023-06-22', salary: 68000 },
    { id: 8, name: 'Grace Lee', email: 'grace.lee@example.com', role: 'Product Manager', department: 'Product', status: 'Active', joinDate: '2022-09-30', salary: 90000 },
    { id: 9, name: 'Henry Taylor', email: 'henry.taylor@example.com', role: 'QA Engineer', department: 'Quality', status: 'Active', joinDate: '2023-07-08', salary: 62000 },
    { id: 10, name: 'Ivy Chen', email: 'ivy.chen@example.com', role: 'DevOps', department: 'Engineering', status: 'Active', joinDate: '2023-08-14', salary: 80000 },
    { id: 11, name: 'Jack Anderson', email: 'jack.anderson@example.com', role: 'Marketing Manager', department: 'Marketing', status: 'Active', joinDate: '2023-01-25', salary: 75000 },
    { id: 12, name: 'Kelly White', email: 'kelly.white@example.com', role: 'HR Manager', department: 'Human Resources', status: 'Active', joinDate: '2022-10-15', salary: 70000 },
    { id: 13, name: 'Leo Martinez', email: 'leo.martinez@example.com', role: 'Senior Developer', department: 'Engineering', status: 'Active', joinDate: '2022-08-20', salary: 95000 },
    { id: 14, name: 'Maya Patel', email: 'maya.patel@example.com', role: 'UX Designer', department: 'Design', status: 'Active', joinDate: '2023-09-10', salary: 72000 },
    { id: 15, name: 'Nathan Green', email: 'nathan.green@example.com', role: 'Data Scientist', department: 'Analytics', status: 'Pending', joinDate: '2023-10-05', salary: 88000 },
  ];

  // Sample product data
  const productData: ProductData[] = [
    { id: 1, product: 'Laptop Pro 15"', category: 'Electronics', price: 1299.99, stock: 45, rating: 4.5, lastRestocked: '2024-01-15' },
    { id: 2, product: 'Wireless Mouse', category: 'Accessories', price: 29.99, stock: 150, rating: 4.2, lastRestocked: '2024-01-20' },
    { id: 3, product: 'USB-C Hub', category: 'Accessories', price: 49.99, stock: 80, rating: 4.7, lastRestocked: '2024-01-18' },
    { id: 4, product: 'Monitor 27"', category: 'Electronics', price: 399.99, stock: 30, rating: 4.6, lastRestocked: '2024-01-10' },
    { id: 5, product: 'Mechanical Keyboard', category: 'Accessories', price: 129.99, stock: 65, rating: 4.8, lastRestocked: '2024-01-22' },
    { id: 6, product: 'Webcam HD', category: 'Electronics', price: 79.99, stock: 95, rating: 4.1, lastRestocked: '2024-01-25' },
    { id: 7, product: 'Desk Lamp LED', category: 'Office', price: 39.99, stock: 120, rating: 4.3, lastRestocked: '2024-01-12' },
    { id: 8, product: 'Standing Desk', category: 'Furniture', price: 599.99, stock: 20, rating: 4.7, lastRestocked: '2024-01-08' },
    { id: 9, product: 'Office Chair', category: 'Furniture', price: 299.99, stock: 35, rating: 4.4, lastRestocked: '2024-01-14' },
    { id: 10, product: 'Headphones Wireless', category: 'Audio', price: 199.99, stock: 55, rating: 4.6, lastRestocked: '2024-01-19' },
  ];

  // Generate large dataset for performance testing
  const generateLargeDataset = (count: number = 1000): BasicTableData[] => {
    const departments = ['Engineering', 'Design', 'Marketing', 'Sales', 'HR', 'Operations', 'Finance'];
    const roles = ['Developer', 'Designer', 'Manager', 'Analyst', 'Coordinator', 'Director', 'Specialist'];
    const statuses: ('Active' | 'Inactive' | 'Pending')[] = ['Active', 'Inactive', 'Pending'];
    const names = ['John Doe', 'Jane Smith', 'Bob Johnson', 'Alice Brown', 'Charlie Wilson', 'Emma Davis', 'Frank Miller'];
    
    return Array.from({ length: count }, (_, i) => ({
      id: i + 1,
      name: `${names[i % names.length]} ${i + 1}`,
      email: `user${i + 1}@example.com`,
      role: roles[i % roles.length],
      department: departments[i % departments.length],
      status: statuses[i % statuses.length],
      joinDate: new Date(2020 + Math.floor(i / 365), (i % 12), 1 + (i % 28)).toISOString().split('T')[0],
      salary: 45000 + (i % 50) * 1000 + Math.floor(Math.random() * 10000)
    }));
  };

  const performanceData = useMemo(() => generateLargeDataset(1000), []);

  // Filter data based on search term
  const filteredBasicTableData = useMemo(() => {
    if (!searchTerm) return basicTableData;
    
    const lowerSearch = searchTerm.toLowerCase();
    return basicTableData.filter(item => 
      Object.values(item).some(value => 
        String(value).toLowerCase().includes(lowerSearch)
      )
    );
  }, [searchTerm]);

  // Function to simulate loading data
  const simulateDataLoading = async () => {
    setLoadingData(true);
    await new Promise(resolve => setTimeout(resolve, 1500)); // Simulate API call
    setLoadingData(false);
  };

  const basicColumns = [
    { key: 'name', label: 'Name', sortable: true, width: '15%' },
    { key: 'email', label: 'Email', sortable: true, width: '18%' },
    { key: 'role', label: 'Role', sortable: true, width: '12%' },
    { key: 'department', label: 'Department', sortable: true, width: '12%' },
    { 
      key: 'status', 
      label: 'Status', 
      sortable: true,
      width: '10%',
      render: (item: BasicTableData) => {
        const statusVariants: { [key: string]: { variant: 'lightGreen' | 'red' | 'yellow' | 'grey', icon?: string } } = {
          'Active': { variant: 'lightGreen', icon: 'checkmark-filled' },
          'Inactive': { variant: 'red', icon: 'error-filled' },
          'Pending': { variant: 'yellow', icon: 'warning' }
        };
        const config = statusVariants[item.status] || { variant: 'grey' };
        return (
          <Chip 
            label={item.status} 
            variant={config.variant}
            iconName={config.icon}
            size="sm"
          />
        );
      }
    },
    { 
      key: 'joinDate', 
      label: 'Join Date', 
      sortable: true,
      width: '13%',
      render: (item: BasicTableData) => formatDate(item.joinDate)
    },
    { 
      key: 'salary', 
      label: 'Salary', 
      sortable: true,
      width: '10%',
      render: (item: BasicTableData) => `$${item.salary.toLocaleString()}`
    },
    {
      key: 'actions',
      label: 'Actions',
      width: '10%',
      render: (item: BasicTableData) => (
        <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'flex-end', gap: ODLTheme.spacing[1] }}>
          <button 
            style={{
              padding: ODLTheme.spacing[1],
              color: ODLTheme.colors.text.secondary,
              background: 'transparent',
              border: 'none',
              borderRadius: ODLTheme.spacing[1],
              cursor: 'pointer',
              transition: ODLTheme.transitions.base
            }}
            title="Edit"
            onClick={(e) => {
              e.stopPropagation();
              console.log('Edit', item);
            }}
            onMouseEnter={(e) => {
              e.currentTarget.style.color = ODLTheme.colors.text.primary;
              e.currentTarget.style.backgroundColor = ODLTheme.colors.surface;
            }}
            onMouseLeave={(e) => {
              e.currentTarget.style.color = ODLTheme.colors.text.secondary;
              e.currentTarget.style.backgroundColor = 'transparent';
            }}
          >
            <Icon name="edit" size={16} />
          </button>
          <button 
            style={{
              padding: ODLTheme.spacing[1],
              color: ODLTheme.colors.text.secondary,
              background: 'transparent',
              border: 'none',
              borderRadius: ODLTheme.spacing[1],
              cursor: 'pointer',
              transition: ODLTheme.transitions.base
            }}
            title="View"
            onClick={(e) => {
              e.stopPropagation();
              console.log('View', item);
            }}
            onMouseEnter={(e) => {
              e.currentTarget.style.color = ODLTheme.colors.text.primary;
              e.currentTarget.style.backgroundColor = ODLTheme.colors.surface;
            }}
            onMouseLeave={(e) => {
              e.currentTarget.style.color = ODLTheme.colors.text.secondary;
              e.currentTarget.style.backgroundColor = 'transparent';
            }}
          >
            <Icon name="view" size={16} />
          </button>
          <button 
            style={{
              padding: ODLTheme.spacing[1],
              color: ODLTheme.colors.text.secondary,
              background: 'transparent',
              border: 'none',
              borderRadius: ODLTheme.spacing[1],
              cursor: 'pointer',
              transition: ODLTheme.transitions.base
            }}
            title="More options"
            onClick={(e) => {
              e.stopPropagation();
              console.log('More options', item);
            }}
            onMouseEnter={(e) => {
              e.currentTarget.style.color = ODLTheme.colors.text.primary;
              e.currentTarget.style.backgroundColor = ODLTheme.colors.surface;
            }}
            onMouseLeave={(e) => {
              e.currentTarget.style.color = ODLTheme.colors.text.secondary;
              e.currentTarget.style.backgroundColor = 'transparent';
            }}
          >
            <Icon name="overflow-menu-vertical" size={16} />
          </button>
        </div>
      )
    },
  ];

  const productColumns = [
    { key: 'product', label: 'Product Name', sortable: true, width: '22%' },
    { key: 'category', label: 'Category', sortable: true, width: '13%' },
    { 
      key: 'price', 
      label: 'Price', 
      sortable: true,
      width: '12%',
      render: (item: ProductData) => `$${item.price.toFixed(2)}`
    },
    { 
      key: 'stock', 
      label: 'Stock', 
      sortable: true,
      width: '13%',
      render: (item: ProductData) => (
        <span className={item.stock < 50 ? 'low-stock' : 'in-stock'}>
          {item.stock} units
        </span>
      )
    },
    { 
      key: 'rating', 
      label: 'Rating', 
      sortable: true,
      width: '10%',
      render: (item: ProductData) => `â­ ${item.rating}/5`
    },
    { 
      key: 'lastRestocked', 
      label: 'Last Restocked', 
      sortable: true,
      width: '18%',
      render: (item: ProductData) => formatDate(item.lastRestocked)
    },
    {
      key: 'actions',
      label: 'Actions',
      width: '12%',
      render: (item: ProductData) => (
        <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'flex-end', gap: ODLTheme.spacing[1] }}>
          <button 
            style={{
              padding: ODLTheme.spacing[1],
              color: ODLTheme.colors.text.secondary,
              background: 'transparent',
              border: 'none',
              borderRadius: ODLTheme.spacing[1],
              cursor: 'pointer',
              transition: ODLTheme.transitions.base
            }}
            onMouseEnter={(e) => {
              e.currentTarget.style.color = ODLTheme.colors.text.primary;
              e.currentTarget.style.backgroundColor = ODLTheme.colors.surface;
            }}
            onMouseLeave={(e) => {
              e.currentTarget.style.color = ODLTheme.colors.text.secondary;
              e.currentTarget.style.backgroundColor = 'transparent';
            }}
            title="Edit"
            onClick={(e) => {
              e.stopPropagation();
              console.log('Edit product', item);
            }}
          >
            <Icon name="edit" size={16} />
          </button>
          <button 
            style={{
              padding: ODLTheme.spacing[1],
              color: ODLTheme.colors.text.secondary,
              background: 'transparent',
              border: 'none',
              borderRadius: ODLTheme.spacing[1],
              cursor: 'pointer',
              transition: ODLTheme.transitions.base
            }}
            onMouseEnter={(e) => {
              e.currentTarget.style.color = ODLTheme.colors.text.primary;
              e.currentTarget.style.backgroundColor = ODLTheme.colors.surface;
            }}
            onMouseLeave={(e) => {
              e.currentTarget.style.color = ODLTheme.colors.text.secondary;
              e.currentTarget.style.backgroundColor = 'transparent';
            }}
            title="View"
            onClick={(e) => {
              e.stopPropagation();
              console.log('View product', item);
            }}
          >
            <Icon name="view" size={16} />
          </button>
          <button 
            style={{
              padding: ODLTheme.spacing[1],
              color: ODLTheme.colors.text.secondary,
              background: 'transparent',
              border: 'none',
              borderRadius: ODLTheme.spacing[1],
              cursor: 'pointer',
              transition: ODLTheme.transitions.base
            }}
            onMouseEnter={(e) => {
              e.currentTarget.style.color = ODLTheme.colors.text.primary;
              e.currentTarget.style.backgroundColor = ODLTheme.colors.surface;
            }}
            onMouseLeave={(e) => {
              e.currentTarget.style.color = ODLTheme.colors.text.secondary;
              e.currentTarget.style.backgroundColor = 'transparent';
            }}
            title="More options"
            onClick={(e) => {
              e.stopPropagation();
              console.log('More options for product', item);
            }}
          >
            <Icon name="overflow-menu-vertical" size={16} />
          </button>
        </div>
      )
    },
  ];

  const advancedColumns = [
    { key: 'name', label: 'Employee Name', sortable: true, filterable: true, width: '15%' },
    { key: 'email', label: 'Email Address', sortable: true, filterable: true, width: '18%' },
    { key: 'role', label: 'Job Role', sortable: true, filterable: true, width: '12%' },
    { key: 'department', label: 'Department', sortable: true, filterable: true, width: '12%' },
    { key: 'status', label: 'Status', sortable: true, filterable: true, width: '10%' },
    { 
      key: 'joinDate', 
      label: 'Join Date',
      sortable: true,
      width: '13%',
      render: (item: any) => formatDate(item.joinDate)
    },
    { key: 'salary', label: 'Annual Salary', sortable: true, width: '10%' },
    {
      key: 'actions',
      label: 'Actions',
      width: '10%',
      render: (item: any) => (
        <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'flex-end', gap: ODLTheme.spacing[1] }}>
          <button 
            style={{
              padding: ODLTheme.spacing[1],
              color: ODLTheme.colors.text.secondary,
              background: 'transparent',
              border: 'none',
              borderRadius: ODLTheme.spacing[1],
              cursor: 'pointer',
              transition: ODLTheme.transitions.base
            }}
            onMouseEnter={(e) => {
              e.currentTarget.style.color = ODLTheme.colors.text.primary;
              e.currentTarget.style.backgroundColor = ODLTheme.colors.surface;
            }}
            onMouseLeave={(e) => {
              e.currentTarget.style.color = ODLTheme.colors.text.secondary;
              e.currentTarget.style.backgroundColor = 'transparent';
            }}
            title="Edit"
            onClick={(e) => {
              e.stopPropagation();
              console.log('Edit employee', item);
            }}
          >
            <Icon name="edit" size={16} />
          </button>
          <button 
            style={{
              padding: ODLTheme.spacing[1],
              color: ODLTheme.colors.text.secondary,
              background: 'transparent',
              border: 'none',
              borderRadius: ODLTheme.spacing[1],
              cursor: 'pointer',
              transition: ODLTheme.transitions.base
            }}
            onMouseEnter={(e) => {
              e.currentTarget.style.color = ODLTheme.colors.text.primary;
              e.currentTarget.style.backgroundColor = ODLTheme.colors.surface;
            }}
            onMouseLeave={(e) => {
              e.currentTarget.style.color = ODLTheme.colors.text.secondary;
              e.currentTarget.style.backgroundColor = 'transparent';
            }}
            title="View"
            onClick={(e) => {
              e.stopPropagation();
              console.log('View employee', item);
            }}
          >
            <Icon name="view" size={16} />
          </button>
          <button 
            style={{
              padding: ODLTheme.spacing[1],
              color: ODLTheme.colors.text.secondary,
              background: 'transparent',
              border: 'none',
              borderRadius: ODLTheme.spacing[1],
              cursor: 'pointer',
              transition: ODLTheme.transitions.base
            }}
            onMouseEnter={(e) => {
              e.currentTarget.style.color = ODLTheme.colors.text.primary;
              e.currentTarget.style.backgroundColor = ODLTheme.colors.surface;
            }}
            onMouseLeave={(e) => {
              e.currentTarget.style.color = ODLTheme.colors.text.secondary;
              e.currentTarget.style.backgroundColor = 'transparent';
            }}
            title="More options"
            onClick={(e) => {
              e.stopPropagation();
              console.log('More options for employee', item);
            }}
          >
            <Icon name="overflow-menu-vertical" size={16} />
          </button>
        </div>
      )
    },
  ];

  return (
    <ODLThemeProvider enableMui={true}>
    <div className={styles.tableDemo}>
      {/* Breadcrumb Navigation */}
      <DemoBreadcrumb componentName="Table Component" />
      
      {/* Enhanced Header Section */}
      <div className={styles.header}>
        <div className={styles.headerContent}>
          <div className={styles.headerText}>
            <h1>Table Component Showcase</h1>
            <p>Comprehensive demonstration of table features with interactive controls and live examples</p>
          </div>
          <div className={styles.headerActions}>
            <Button
              variant={showCode ? 'primary' : 'secondary'}
              size="small"
              onClick={() => setShowCode(!showCode)}
            >
              {showCode ? 'Hide Code' : 'View Code'}
            </Button>
            <Button
              variant="secondary"
              size="small"
              loading={loadingData}
              onClick={simulateDataLoading}
            >
              Refresh Data
            </Button>
          </div>
        </div>
      </div>

      {/* Enhanced Demo Selector with descriptions */}
      <div className={styles.demoSelector}>
        <div className={styles.demoTabs}>
          {[
            { 
              key: 'basic', 
              label: 'Basic Table', 
              icon: 'ðŸ“‹'
            },
            { 
              key: 'products', 
              label: 'Product Catalog', 
              icon: 'ðŸ›ï¸'
            },
            { 
              key: 'advanced', 
              label: 'Advanced Features', 
              icon: 'âš¡'
            },
            { 
              key: 'interactive', 
              label: 'Interactive Demo', 
              icon: 'ðŸŽ›ï¸'
            },
            { 
              key: 'performance', 
              label: 'Performance Test', 
              icon: 'ðŸš€'
            }
          ].map(demo => (
            <button
              key={demo.key}
              className={`${styles.demoTab} ${selectedDemo === demo.key ? styles.active : ''}`}
              onClick={() => setSelectedDemo(demo.key as any)}
            >
              <span className={styles.demoIcon}>{demo.icon}</span>
              <div className={styles.demoTabContent}>
                <span className={styles.demoLabel}>{demo.label}</span>
              </div>
            </button>
          ))}
        </div>
      </div>

      {/* Settings Panel for Interactive Demo */}
      {selectedDemo === 'interactive' && (
        <div className={styles.settingsPanel} style={{
          background: `linear-gradient(135deg, ${ODLTheme.colors.background} 0%, ${ODLTheme.colors.surface} 100%)`,
          borderRadius: ODLTheme.spacing[3],
          padding: ODLTheme.spacing[6],
          marginBottom: ODLTheme.spacing[8],
          border: `${ODLTheme.spacing[0]} solid ${ODLTheme.colors.border}`
        }}>
          <h3 style={{
            fontSize: ODLTheme.typography.fontSize.lg,
            fontWeight: ODLTheme.typography.fontWeight.semibold,
            color: ODLTheme.colors.text.primary,
            marginBottom: ODLTheme.spacing[6],
            display: 'flex',
            alignItems: 'center',
            gap: ODLTheme.spacing[2]
          }}>
            <Icon name="settings" size={20} style={{ color: ODLTheme.colors.primary }} />
            Live Configuration
          </h3>
          <div style={{
            display: 'grid',
            gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))',
            gap: ODLTheme.spacing[4]
          }}>
            {Object.entries(tableSettings).map(([key, value]) => {
              const labels: { [key: string]: { label: string, description: string, icon: string } } = {
                paginated: { 
                  label: 'Pagination', 
                  description: 'Split data across pages',
                  icon: 'page-first'
                },
                selectable: { 
                  label: 'Row Selection', 
                  description: 'Enable checkbox selection',
                  icon: 'checkbox-checked'
                },
                striped: { 
                  label: 'Striped Rows', 
                  description: 'Alternate row colors',
                  icon: 'list'
                },
                hoverable: { 
                  label: 'Hover Effect', 
                  description: 'Highlight on hover',
                  icon: 'cursor-1'
                },
                compact: { 
                  label: 'Compact Mode', 
                  description: 'Reduced padding',
                  icon: 'minimize'
                },
                bordered: { 
                  label: 'Borders', 
                  description: 'Show cell borders',
                  icon: 'border-full'
                }
              };
              
              const config = labels[key] || { label: key, description: '', icon: 'settings' };
              
              return (
                <label 
                  key={key} 
                  style={{
                    display: 'flex',
                    alignItems: 'flex-start',
                    padding: ODLTheme.spacing[4],
                    borderRadius: ODLTheme.spacing[2],
                    background: value ? 'white' : ODLTheme.colors.surface,
                    border: value ? `${ODLTheme.spacing[0]} solid ${ODLTheme.colors.primary}` : `${ODLTheme.spacing[0]} solid transparent`,
                    cursor: 'pointer',
                    transition: ODLTheme.transitions.base,
                    position: 'relative',
                    boxShadow: value ? `0 ${ODLTheme.spacing[0]} ${ODLTheme.spacing[2]} ${ODLTheme.colors.primary}20` : 'none'
                  }}
                  onMouseEnter={(e) => {
                    if (!value) {
                      e.currentTarget.style.background = ODLTheme.colors.background;
                      e.currentTarget.style.borderColor = ODLTheme.colors.border;
                    }
                  }}
                  onMouseLeave={(e) => {
                    if (!value) {
                      e.currentTarget.style.background = ODLTheme.colors.surface;
                      e.currentTarget.style.borderColor = 'transparent';
                    }
                  }}
                >
                  <input
                    type="checkbox"
                    checked={value}
                    onChange={(e) => setTableSettings(prev => ({
                      ...prev,
                      [key]: e.target.checked
                    }))}
                    style={{
                      width: '20px',
                      height: '20px',
                      marginRight: ODLTheme.spacing[3],
                      marginTop: '2px',
                      cursor: 'pointer',
                      accentColor: ODLTheme.colors.primary
                    }}
                  />
                  <div style={{ flex: 1 }}>
                    <div style={{
                      fontSize: ODLTheme.typography.fontSize.base,
                      fontWeight: value ? ODLTheme.typography.fontWeight.semibold : ODLTheme.typography.fontWeight.medium,
                      color: value ? ODLTheme.colors.primary : ODLTheme.colors.text.primary,
                      marginBottom: ODLTheme.spacing[1],
                      display: 'flex',
                      alignItems: 'center',
                      gap: ODLTheme.spacing[2]
                    }}>
                      {config.label}
                      {value && (
                        <span style={{
                          fontSize: ODLTheme.typography.fontSize.xs,
                          padding: `${ODLTheme.spacing[0]} ${ODLTheme.spacing[2]}`,
                          background: `${ODLTheme.colors.primary}20`,
                          color: ODLTheme.colors.primary,
                          borderRadius: ODLTheme.spacing[1],
                          fontWeight: ODLTheme.typography.fontWeight.medium
                        }}>
                          ACTIVE
                        </span>
                      )}
                    </div>
                    <div style={{
                      fontSize: ODLTheme.typography.fontSize.sm,
                      color: ODLTheme.colors.text.secondary,
                      lineHeight: 1.3
                    }}>
                      {config.description}
                    </div>
                  </div>
                </label>
              );
            })}
          </div>
          <div style={{
            marginTop: ODLTheme.spacing[6],
            padding: ODLTheme.spacing[4],
            background: `${ODLTheme.colors.primary}20`,
            borderRadius: ODLTheme.spacing[2],
            display: 'flex',
            alignItems: 'center',
            gap: ODLTheme.spacing[3]
          }}>
            <Icon name="information" size={20} style={{ color: ODLTheme.colors.primary }} />
            <p style={{
              fontSize: ODLTheme.typography.fontSize.base,
              color: ODLTheme.colors.text.secondary,
              margin: 0
            }}>
              Toggle these options to see how they affect the table appearance and behavior in real-time.
            </p>
          </div>
        </div>
      )}

      {/* Enhanced Demo Content */}
      <div className={styles.demoContent}>
        {selectedDemo === 'basic' && (
          <div className={styles.tableSection}>
            <div className={styles.sectionHeader}>
              <h2>Basic Table with Core Features</h2>
              <p>Demonstrates essential table functionality including sorting, pagination, and row selection</p>
            </div>

            {/* ODL vs MUI Table Comparison - Stacked Vertically */}
            {showComparison && (
              <div style={{
                marginBottom: '48px',
                padding: '24px',
                backgroundColor: '#f9fafb',
                borderRadius: '8px',
              }}>
                <h2 style={{
                  fontSize: '24px',
                  fontWeight: 600,
                  marginBottom: '24px',
                  color: '#111827',
                }}>
                  Table Component Comparison
                </h2>
                <p style={{ marginBottom: '32px', color: '#6b7280' }}>
                  ODL Table vs MUI DataGrid with ODL styling - both with column resizing
                </p>

                {/* ODL Table */}
                <div style={{ marginBottom: '32px' }}>
                  <div style={{
                    display: 'flex',
                    alignItems: 'center',
                    marginBottom: '16px',
                    gap: '8px',
                  }}>
                    <h3 style={{
                      fontSize: '18px',
                      fontWeight: 500,
                      color: '#374151',
                      margin: 0,
                    }}>
                      ODL Table
                    </h3>
                    <span style={{
                      padding: '2px 8px',
                      borderRadius: '4px',
                      fontSize: '12px',
                      fontWeight: 600,
                      backgroundColor: '#3560C1',
                      color: 'white',
                    }}>
                      ODL
                    </span>
                  </div>
                  <div style={{ height: 400, width: '100%', border: '1px solid #e5e7eb', borderRadius: '8px', overflow: 'hidden', backgroundColor: 'white' }}>
                    <Table
                      data={filteredBasicTableData.slice(0, 5)}
                      columns={basicColumns.filter(col => !hiddenColumns.has(col.key))}
                      pageSize={5}
                      paginated={tableSettings.paginated}
                      selectable={tableSettings.selectable}
                      striped={tableSettings.striped}
                      hoverable={tableSettings.hoverable}
                      compact={tableSettings.compact}
                      bordered={tableSettings.bordered}
                    />
                  </div>
                </div>

                {/* MUI DataGrid */}
                <div>
                  <div style={{
                    display: 'flex',
                    alignItems: 'center',
                    marginBottom: '16px',
                    gap: '8px',
                  }}>
                    <h3 style={{
                      fontSize: '18px',
                      fontWeight: 500,
                      color: '#374151',
                      margin: 0,
                    }}>
                      MUI DataGrid with ODL Theme
                    </h3>
                    <span style={{
                      padding: '2px 8px',
                      borderRadius: '4px',
                      fontSize: '12px',
                      fontWeight: 600,
                      backgroundColor: '#8B5CF6',
                      color: 'white',
                    }}>
                      MUI
                    </span>
                  </div>
                  <div style={{ height: 400, width: '100%' }}>
                    <DataGrid
                      rows={filteredBasicTableData}
                      columns={muiBasicColumns}
                      pageSize={5}
                      rowsPerPageOptions={[5, 10, 20]}
                      checkboxSelection
                      disableSelectionOnClick
                      sx={{
                        backgroundColor: 'white',
                        border: '1px solid #e0e0e0',
                        borderRadius: '8px',
                        '& .MuiDataGrid-cell': {
                          borderBottom: '1px solid #f0f0f0',
                          fontSize: '14px',
                          color: '#374151'
                        },
                        '& .MuiDataGrid-columnHeader': {
                          backgroundColor: '#f9fafb',
                          borderBottom: '2px solid #e0e0e0',
                          fontSize: '14px',
                          fontWeight: 600,
                          color: '#111827'
                        },
                        '& .MuiDataGrid-row:hover': {
                          backgroundColor: '#f8fafc'
                        },
                        '& .MuiDataGrid-row.Mui-selected': {
                          backgroundColor: '#e0f3fe'
                        },
                        '& .MuiDataGrid-footerContainer': {
                          backgroundColor: '#f9fafb',
                          borderTop: '1px solid #e0e0e0'
                        }
                      }}
                    />
                  </div>
                </div>
              </div>
            )}

            <div className={styles.tableContainer}>
              <Table
                data={filteredBasicTableData}
                columns={basicColumns.filter(col => !hiddenColumns.has(col.key))}
                pageSize={5}
                paginated={true}
                selectable={true}
                striped={true}
                hoverable={true}
                title="Employee Directory"
                headerActions={
                  <div style={{ display: 'flex', alignItems: 'center', width: '100%' }}>
                    <div style={{ display: 'flex', gap: ODLTheme.spacing[2] }}>
                      <button 
                        style={{
                          padding: `${ODLTheme.spacing[1]} ${ODLTheme.spacing[2]}`,
                          color: ODLTheme.colors.text.secondary,
                          background: 'transparent',
                          border: 'none',
                          borderRadius: ODLTheme.spacing[1],
                          cursor: 'pointer',
                          transition: ODLTheme.transitions.base
                        }}
                        onMouseEnter={(e) => {
                          e.currentTarget.style.color = ODLTheme.colors.text.primary;
                          e.currentTarget.style.backgroundColor = ODLTheme.colors.surface;
                        }}
                        onMouseLeave={(e) => {
                          e.currentTarget.style.color = ODLTheme.colors.text.secondary;
                          e.currentTarget.style.backgroundColor = 'transparent';
                        }}
                        title="Search"
                        onClick={() => setShowSearch(!showSearch)}
                      >
                        <Icon name="search-locate" size={20} />
                      </button>
                      <button 
                        style={{
                          padding: `${ODLTheme.spacing[1]} ${ODLTheme.spacing[2]}`,
                          color: ODLTheme.colors.text.secondary,
                          background: 'transparent',
                          border: 'none',
                          borderRadius: ODLTheme.spacing[1],
                          cursor: 'pointer',
                          transition: ODLTheme.transitions.base
                        }}
                        onMouseEnter={(e) => {
                          e.currentTarget.style.color = ODLTheme.colors.text.primary;
                          e.currentTarget.style.backgroundColor = ODLTheme.colors.surface;
                        }}
                        onMouseLeave={(e) => {
                          e.currentTarget.style.color = ODLTheme.colors.text.secondary;
                          e.currentTarget.style.backgroundColor = 'transparent';
                        }}
                        title="Filter"
                      >
                        <Icon name="filter" size={20} />
                      </button>
                      <button 
                        style={{
                          padding: `${ODLTheme.spacing[1]} ${ODLTheme.spacing[2]}`,
                          color: ODLTheme.colors.text.secondary,
                          background: 'transparent',
                          border: 'none',
                          borderRadius: ODLTheme.spacing[1],
                          cursor: 'pointer',
                          transition: ODLTheme.transitions.base
                        }}
                        onMouseEnter={(e) => {
                          e.currentTarget.style.color = ODLTheme.colors.text.primary;
                          e.currentTarget.style.backgroundColor = ODLTheme.colors.surface;
                        }}
                        onMouseLeave={(e) => {
                          e.currentTarget.style.color = ODLTheme.colors.text.secondary;
                          e.currentTarget.style.backgroundColor = 'transparent';
                        }}
                        title="Settings"
                      >
                        <Icon name="settings" size={20} />
                      </button>
                    </div>
                    <div style={{ flex: 1 }} />
                    <div ref={columnMenuRef} style={{ position: 'relative' }}>
                      <button 
                        style={{
                          padding: `${ODLTheme.spacing[1]} ${ODLTheme.spacing[2]}`,
                          color: ODLTheme.colors.text.secondary,
                          background: 'transparent',
                          border: 'none',
                          borderRadius: ODLTheme.spacing[1],
                          cursor: 'pointer',
                          transition: ODLTheme.transitions.base
                        }}
                        onMouseEnter={(e) => {
                          e.currentTarget.style.color = ODLTheme.colors.text.primary;
                          e.currentTarget.style.backgroundColor = ODLTheme.colors.surface;
                        }}
                        onMouseLeave={(e) => {
                          e.currentTarget.style.color = ODLTheme.colors.text.secondary;
                          e.currentTarget.style.backgroundColor = 'transparent';
                        }}
                        onClick={() => setShowColumnMenu(!showColumnMenu)}
                        title="Toggle Columns"
                      >
                        <Icon name="data-bin" size={20} />
                      </button>
                      {showColumnMenu && (
                        <div style={{
                          position: 'absolute',
                          right: 0,
                          top: '100%',
                          marginTop: '4px',
                          background: 'white',
                          border: `1px solid ${ODLTheme.colors.border}`,
                          borderRadius: '8px',
                          boxShadow: '0 4px 6px rgba(0, 0, 0, 0.1)',
                          padding: '8px',
                          minWidth: '200px',
                          zIndex: 1000
                        }}>
                          <div style={{
                            padding: '8px 12px',
                            borderBottom: `1px solid ${ODLTheme.colors.border}`,
                            marginBottom: '8px',
                            fontWeight: 600,
                            fontSize: '14px',
                            color: ODLTheme.colors.text.primary
                          }}>
                            Show/Hide Columns
                          </div>
                          {basicColumns.filter(col => col.key !== 'actions').map((column) => (
                            <label
                              key={column.key}
                              style={{
                                display: 'flex',
                                alignItems: 'center',
                                padding: '6px 12px',
                                cursor: 'pointer',
                                fontSize: '14px',
                                color: ODLTheme.colors.text.primary,
                                transition: 'background 0.2s'
                              }}
                              onMouseEnter={(e) => {
                                e.currentTarget.style.backgroundColor = ODLTheme.colors.surface;
                              }}
                              onMouseLeave={(e) => {
                                e.currentTarget.style.backgroundColor = 'transparent';
                              }}
                            >
                              <input
                                type="checkbox"
                                checked={!hiddenColumns.has(column.key)}
                                onChange={(e) => {
                                  const newHidden = new Set(hiddenColumns);
                                  if (e.target.checked) {
                                    newHidden.delete(column.key);
                                  } else {
                                    newHidden.add(column.key);
                                  }
                                  setHiddenColumns(newHidden);
                                }}
                                style={{
                                  marginRight: '8px',
                                  cursor: 'pointer'
                                }}
                              />
                              {column.label}
                            </label>
                          ))}
                        </div>
                      )}
                    </div>
                  </div>
                }
                onRowSelect={(selected) => console.log('Selected rows:', selected)}
              >
                {showSearch && (
                  <div style={{
                    padding: '12px 16px',
                    background: 'white',
                    borderBottom: `1px solid ${ODLTheme.colors.border}`,
                    display: 'flex',
                    alignItems: 'center',
                    gap: '12px'
                  }}>
                    <Input
                      type="text"
                      placeholder="Search by name, email, role, department..."
                      value={searchTerm}
                      onChange={setSearchTerm}
                      size="sm"
                      autoFocus
                      className="hover"
                    />
                  </div>
                )}
              </Table>
            </div>
          </div>
        )}

        {selectedDemo === 'products' && (
          <div className={styles.tableSection}>
            <div className={styles.sectionHeader}>
              <h2>Product Inventory Management</h2>
              <p>Showcases custom formatting, conditional styling, and business data presentation</p>
            </div>

            {/* ODL vs MUI Product Table Comparison - Stacked Vertically */}
            {showComparison && (
              <div style={{
                marginBottom: '48px',
                padding: '24px',
                backgroundColor: '#f9fafb',
                borderRadius: '8px',
              }}>
                <h2 style={{
                  fontSize: '24px',
                  fontWeight: 600,
                  marginBottom: '24px',
                  color: '#111827',
                }}>
                  Product Table Component Comparison
                </h2>
                <p style={{ marginBottom: '32px', color: '#6b7280' }}>
                  ODL Table vs MUI DataGrid for product inventory - with custom formatting and conditional styling
                </p>

                {/* ODL Product Table */}
                <div style={{ marginBottom: '32px' }}>
                  <div style={{
                    display: 'flex',
                    alignItems: 'center',
                    marginBottom: '16px',
                    gap: '8px',
                  }}>
                    <h3 style={{
                      fontSize: '18px',
                      fontWeight: 500,
                      color: '#374151',
                      margin: 0,
                    }}>
                      ODL Product Table
                    </h3>
                    <span style={{
                      padding: '2px 8px',
                      borderRadius: '4px',
                      fontSize: '12px',
                      fontWeight: 600,
                      backgroundColor: '#3560C1',
                      color: 'white',
                    }}>
                      ODL
                    </span>
                  </div>
                  <div style={{ height: 400, width: '100%', border: '1px solid #e5e7eb', borderRadius: '8px', overflow: 'hidden', backgroundColor: 'white' }}>
                    <Table
                      data={productData.slice(0, 5)}
                      columns={productColumns}
                      pageSize={5}
                      paginated={true}
                      selectable={true}
                      striped={true}
                      hoverable={true}
                    />
                  </div>
                </div>

                {/* MUI Product DataGrid */}
                <div>
                  <div style={{
                    display: 'flex',
                    alignItems: 'center',
                    marginBottom: '16px',
                    gap: '8px',
                  }}>
                    <h3 style={{
                      fontSize: '18px',
                      fontWeight: 500,
                      color: '#374151',
                      margin: 0,
                    }}>
                      MUI Product DataGrid with ODL Theme
                    </h3>
                    <span style={{
                      padding: '2px 8px',
                      borderRadius: '4px',
                      fontSize: '12px',
                      fontWeight: 600,
                      backgroundColor: '#8B5CF6',
                      color: 'white',
                    }}>
                      MUI
                    </span>
                  </div>
                  <div style={{ height: 400, width: '100%' }}>
                    <DataGrid
                      rows={productData}
                      columns={muiProductColumns}
                      pageSize={5}
                      rowsPerPageOptions={[5, 10, 20]}
                      checkboxSelection
                      disableSelectionOnClick
                      sx={{
                        backgroundColor: 'white',
                        border: '1px solid #e0e0e0',
                        borderRadius: '8px',
                        '& .MuiDataGrid-cell': {
                          borderBottom: '1px solid #f0f0f0',
                          fontSize: '14px',
                          color: '#374151'
                        },
                        '& .MuiDataGrid-columnHeader': {
                          backgroundColor: '#f9fafb',
                          borderBottom: '2px solid #e0e0e0',
                          fontSize: '14px',
                          fontWeight: 600,
                          color: '#111827'
                        },
                        '& .MuiDataGrid-row:hover': {
                          backgroundColor: '#f8fafc'
                        },
                        '& .MuiDataGrid-row.Mui-selected': {
                          backgroundColor: '#e0f3fe'
                        },
                        '& .MuiDataGrid-footerContainer': {
                          backgroundColor: '#f9fafb',
                          borderTop: '1px solid #e0e0e0'
                        }
                      }}
                    />
                  </div>
                </div>
              </div>
            )}

            <div className={styles.tableContainer}>
              <Table
                data={productData}
                columns={productColumns}
                pageSize={5}
                paginated={true}
                selectable={true}
                striped={true}
                hoverable={true}
                title="Product Inventory"
                onRowSelect={(selected) => console.log('Product table - Selected rows:', selected)}
                headerActions={
                  <>
                    <button 
                      style={{
                        padding: `${ODLTheme.spacing[1]} ${ODLTheme.spacing[2]}`,
                        color: ODLTheme.colors.text.secondary,
                        background: 'transparent',
                        border: 'none',
                        borderRadius: ODLTheme.spacing[1],
                        cursor: 'pointer',
                        transition: ODLTheme.transitions.base
                      }}
                      onMouseEnter={(e) => {
                        e.currentTarget.style.color = ODLTheme.colors.text.primary;
                        e.currentTarget.style.backgroundColor = ODLTheme.colors.surface;
                      }}
                      onMouseLeave={(e) => {
                        e.currentTarget.style.color = ODLTheme.colors.text.secondary;
                        e.currentTarget.style.backgroundColor = 'transparent';
                      }}
                      title="Add Product"
                    >
                      <Icon name="add" size={20} />
                    </button>
                    <button 
                      style={{
                        padding: `${ODLTheme.spacing[1]} ${ODLTheme.spacing[2]}`,
                        color: ODLTheme.colors.text.secondary,
                        background: 'transparent',
                        border: 'none',
                        borderRadius: ODLTheme.spacing[1],
                        cursor: 'pointer',
                        transition: ODLTheme.transitions.base
                      }}
                      onMouseEnter={(e) => {
                        e.currentTarget.style.color = ODLTheme.colors.text.primary;
                        e.currentTarget.style.backgroundColor = ODLTheme.colors.surface;
                      }}
                      onMouseLeave={(e) => {
                        e.currentTarget.style.color = ODLTheme.colors.text.secondary;
                        e.currentTarget.style.backgroundColor = 'transparent';
                      }}
                      title="Export"
                    >
                      <Icon name="download" size={20} />
                    </button>
                    <button 
                      style={{
                        padding: `${ODLTheme.spacing[1]} ${ODLTheme.spacing[2]}`,
                        color: ODLTheme.colors.text.secondary,
                        background: 'transparent',
                        border: 'none',
                        borderRadius: ODLTheme.spacing[1],
                        cursor: 'pointer',
                        transition: ODLTheme.transitions.base
                      }}
                      onMouseEnter={(e) => {
                        e.currentTarget.style.color = ODLTheme.colors.text.primary;
                        e.currentTarget.style.backgroundColor = ODLTheme.colors.surface;
                      }}
                      onMouseLeave={(e) => {
                        e.currentTarget.style.color = ODLTheme.colors.text.secondary;
                        e.currentTarget.style.backgroundColor = 'transparent';
                      }}
                      title="Refresh"
                    >
                      <Icon name="renew" size={20} />
                    </button>
                  </>
                }
              />
            </div>
          </div>
        )}

        {selectedDemo === 'advanced' && (
          <div className={styles.tableSection}>
            <div className={styles.sectionHeader}>
              <h2>Advanced Table with Full Feature Set</h2>
              <p>Complete feature demonstration including search, filters, column controls, and export functionality</p>
            </div>

            {/* ODL vs MUI Advanced Table Comparison - Stacked Vertically */}
            {showComparison && (
              <div style={{
                marginBottom: '48px',
                padding: '24px',
                backgroundColor: '#f9fafb',
                borderRadius: '8px',
              }}>
                <h2 style={{
                  fontSize: '24px',
                  fontWeight: 600,
                  marginBottom: '24px',
                  color: '#111827',
                }}>
                  Advanced Table Component Comparison
                </h2>
                <p style={{ marginBottom: '32px', color: '#6b7280' }}>
                  ODL AdvancedTable vs MUI DataGrid with full feature set - search, filters, and advanced controls
                </p>

                {/* ODL Advanced Table */}
                <div style={{ marginBottom: '32px' }}>
                  <div style={{
                    display: 'flex',
                    alignItems: 'center',
                    marginBottom: '16px',
                    gap: '8px',
                  }}>
                    <h3 style={{
                      fontSize: '18px',
                      fontWeight: 500,
                      color: '#374151',
                      margin: 0,
                    }}>
                      ODL Advanced Table with Full Controls
                    </h3>
                    <span style={{
                      padding: '2px 8px',
                      borderRadius: '4px',
                      fontSize: '12px',
                      fontWeight: 600,
                      backgroundColor: '#3560C1',
                      color: 'white',
                    }}>
                      ODL
                    </span>
                  </div>
                  <div style={{ height: 500, width: '100%', border: '1px solid #e5e7eb', borderRadius: '8px', overflow: 'hidden', backgroundColor: 'white' }}>
                    <Table
                      data={basicTableData.slice(0, 8)}
                      columns={basicColumns}
                      pageSize={8}
                      paginated={true}
                      selectable={true}
                      striped={true}
                      hoverable={true}
                      title="Advanced Demo - ODL Table"
                    />
                  </div>
                </div>

                {/* MUI Advanced DataGrid */}
                <div>
                  <div style={{
                    display: 'flex',
                    alignItems: 'center',
                    marginBottom: '16px',
                    gap: '8px',
                  }}>
                    <h3 style={{
                      fontSize: '18px',
                      fontWeight: 500,
                      color: '#374151',
                      margin: 0,
                    }}>
                      MUI Advanced DataGrid with ODL Theme
                    </h3>
                    <span style={{
                      padding: '2px 8px',
                      borderRadius: '4px',
                      fontSize: '12px',
                      fontWeight: 600,
                      backgroundColor: '#8B5CF6',
                      color: 'white',
                    }}>
                      MUI
                    </span>
                  </div>
                  <div style={{ height: 500, width: '100%' }}>
                    <DataGrid
                      rows={basicTableData}
                      columns={muiBasicColumns}
                      pageSize={8}
                      rowsPerPageOptions={[8, 16, 25]}
                      checkboxSelection
                      disableSelectionOnClick
                      sx={{
                        backgroundColor: 'white',
                        border: '1px solid #e0e0e0',
                        borderRadius: '8px',
                        '& .MuiDataGrid-cell': {
                          borderBottom: '1px solid #f0f0f0',
                          fontSize: '14px',
                          color: '#374151'
                        },
                        '& .MuiDataGrid-columnHeader': {
                          backgroundColor: '#f9fafb',
                          borderBottom: '2px solid #e0e0e0',
                          fontSize: '14px',
                          fontWeight: 600,
                          color: '#111827'
                        },
                        '& .MuiDataGrid-row:hover': {
                          backgroundColor: '#f8fafc'
                        },
                        '& .MuiDataGrid-row.Mui-selected': {
                          backgroundColor: '#e0f3fe'
                        },
                        '& .MuiDataGrid-row:nth-of-type(even)': {
                          backgroundColor: '#f9fafb'
                        },
                        '& .MuiDataGrid-footerContainer': {
                          backgroundColor: '#f9fafb',
                          borderTop: '1px solid #e0e0e0'
                        }
                      }}
                    />
                  </div>
                </div>
              </div>
            )}

            <div className={styles.tableContainer}>
              <AdvancedTable
                data={basicTableData}
                columns={advancedColumns}
                itemsPerPage={8}
                paginated={true}
                selectable={true}
                showSearch={true}
                showColumnToggle={true}
                showExport={true}
                showBulkActions={true}
                bulkActions={[
                  {
                    label: 'Archive Selected',
                    action: (items) => {
                      console.log('Archiving items:', items);
                      alert(`Archiving ${items.length} employee${items.length !== 1 ? 's' : ''}`);
                    },
                    variant: 'secondary'
                  },
                  {
                    label: 'Send Email',
                    action: (items) => {
                      console.log('Sending email to:', items);
                      alert(`Sending email to ${items.length} employee${items.length !== 1 ? 's' : ''}`);
                    },
                    variant: 'primary'
                  },
                  {
                    label: 'Delete Selected',
                    action: (items) => {
                      if (confirm(`Are you sure you want to delete ${items.length} employee${items.length !== 1 ? 's' : ''}?`)) {
                        console.log('Deleting items:', items);
                        alert(`Deleted ${items.length} employee${items.length !== 1 ? 's' : ''}`);
                      }
                    },
                    variant: 'destructive'
                  }
                ]}
                exportFormats={['csv', 'json']}
                title="Employee Directory"
                subtitle="Manage and export employee information with bulk actions"
              />
            </div>
          </div>
        )}

        {selectedDemo === 'interactive' && (
          <div className={styles.tableSection}>
            <div className={styles.sectionHeader}>
              <h2>Interactive Configuration Demo</h2>
              <p>Experiment with different table settings and see changes in real-time</p>
            </div>

            {/* ODL vs MUI Interactive Table Comparison - Stacked Vertically */}
            {showComparison && (
              <div style={{
                marginBottom: '48px',
                padding: '24px',
                backgroundColor: '#f9fafb',
                borderRadius: '8px',
              }}>
                <h2 style={{
                  fontSize: '24px',
                  fontWeight: 600,
                  marginBottom: '24px',
                  color: '#111827',
                }}>
                  Interactive Table Component Comparison
                </h2>
                <p style={{ marginBottom: '32px', color: '#6b7280' }}>
                  ODL Table vs MUI DataGrid with configurable options - both respond to the settings above
                </p>

                {/* ODL Interactive Table */}
                <div style={{ marginBottom: '32px' }}>
                  <div style={{
                    display: 'flex',
                    alignItems: 'center',
                    marginBottom: '16px',
                    gap: '8px',
                  }}>
                    <h3 style={{
                      fontSize: '18px',
                      fontWeight: 500,
                      color: '#374151',
                      margin: 0,
                    }}>
                      ODL Interactive Table
                    </h3>
                    <span style={{
                      padding: '2px 8px',
                      borderRadius: '4px',
                      fontSize: '12px',
                      fontWeight: 600,
                      backgroundColor: '#3560C1',
                      color: 'white',
                    }}>
                      ODL
                    </span>
                  </div>
                  <div style={{ height: 400, width: '100%', border: '1px solid #e5e7eb', borderRadius: '8px', overflow: 'hidden', backgroundColor: 'white' }}>
                    <Table
                      data={basicTableData.slice(0, 6)}
                      columns={basicColumns}
                      pageSize={6}
                      paginated={tableSettings.paginated}
                      selectable={tableSettings.selectable}
                      striped={tableSettings.striped}
                      hoverable={tableSettings.hoverable}
                      compact={tableSettings.compact}
                      bordered={tableSettings.bordered}
                    />
                  </div>
                </div>

                {/* MUI Interactive DataGrid */}
                <div>
                  <div style={{
                    display: 'flex',
                    alignItems: 'center',
                    marginBottom: '16px',
                    gap: '8px',
                  }}>
                    <h3 style={{
                      fontSize: '18px',
                      fontWeight: 500,
                      color: '#374151',
                      margin: 0,
                    }}>
                      MUI Interactive DataGrid with ODL Theme
                    </h3>
                    <span style={{
                      padding: '2px 8px',
                      borderRadius: '4px',
                      fontSize: '12px',
                      fontWeight: 600,
                      backgroundColor: '#8B5CF6',
                      color: 'white',
                    }}>
                      MUI
                    </span>
                  </div>
                  <div style={{ height: 400, width: '100%' }}>
                    <DataGrid
                      rows={basicTableData}
                      columns={muiBasicColumns}
                      pageSize={6}
                      rowsPerPageOptions={[6, 12, 25]}
                      checkboxSelection={tableSettings.selectable}
                      disableSelectionOnClick
                      sx={{
                        backgroundColor: 'white',
                        border: '1px solid #e0e0e0',
                        borderRadius: '8px',
                        '& .MuiDataGrid-cell': {
                          borderBottom: tableSettings.bordered ? '1px solid #e0e0e0' : '1px solid #f0f0f0',
                          fontSize: '14px',
                          color: '#374151',
                          padding: tableSettings.compact ? '4px 8px' : '8px 16px'
                        },
                        '& .MuiDataGrid-columnHeader': {
                          backgroundColor: '#f9fafb',
                          borderBottom: '2px solid #e0e0e0',
                          fontSize: '14px',
                          fontWeight: 600,
                          color: '#111827',
                          padding: tableSettings.compact ? '4px 8px' : '8px 16px'
                        },
                        '& .MuiDataGrid-row:hover': {
                          backgroundColor: tableSettings.hoverable ? '#f8fafc' : 'transparent'
                        },
                        '& .MuiDataGrid-row.Mui-selected': {
                          backgroundColor: '#e0f3fe'
                        },
                        '& .MuiDataGrid-row:nth-of-type(even)': {
                          backgroundColor: tableSettings.striped ? '#f9fafb' : 'transparent'
                        },
                        '& .MuiDataGrid-footerContainer': {
                          backgroundColor: '#f9fafb',
                          borderTop: '1px solid #e0e0e0',
                          display: tableSettings.paginated ? 'flex' : 'none'
                        }
                      }}
                    />
                  </div>
                </div>
              </div>
            )}

            <div className={styles.tableContainer}>
              <Table
                data={basicTableData}
                columns={basicColumns}
                pageSize={6}
                paginated={tableSettings.paginated}
                selectable={tableSettings.selectable}
                striped={tableSettings.striped}
                hoverable={tableSettings.hoverable}
                compact={tableSettings.compact}
                bordered={tableSettings.bordered}
                title="Configurable Table"
                headerActions={
                  <>
                    <button 
                      style={{
                        padding: ODLTheme.spacing[2],
                        color: ODLTheme.colors.text.secondary,
                        background: 'transparent',
                        border: 'none',
                        borderRadius: ODLTheme.spacing[1],
                        cursor: 'pointer',
                        display: 'flex',
                        alignItems: 'center',
                        justifyContent: 'center',
                        transition: ODLTheme.transitions.base
                      }}
                      title="Print"
                      onMouseEnter={(e) => {
                        e.currentTarget.style.color = ODLTheme.colors.text.primary;
                        e.currentTarget.style.backgroundColor = ODLTheme.colors.surface;
                      }}
                      onMouseLeave={(e) => {
                        e.currentTarget.style.color = ODLTheme.colors.text.secondary;
                        e.currentTarget.style.backgroundColor = 'transparent';
                      }}
                    >
                      <Icon name="print" size={20} />
                    </button>
                    <button 
                      style={{
                        padding: ODLTheme.spacing[2],
                        color: ODLTheme.colors.text.secondary,
                        background: 'transparent',
                        border: 'none',
                        borderRadius: ODLTheme.spacing[1],
                        cursor: 'pointer',
                        display: 'flex',
                        alignItems: 'center',
                        justifyContent: 'center',
                        transition: ODLTheme.transitions.base
                      }}
                      title="Share"
                      onMouseEnter={(e) => {
                        e.currentTarget.style.color = ODLTheme.colors.text.primary;
                        e.currentTarget.style.backgroundColor = ODLTheme.colors.surface;
                      }}
                      onMouseLeave={(e) => {
                        e.currentTarget.style.color = ODLTheme.colors.text.secondary;
                        e.currentTarget.style.backgroundColor = 'transparent';
                      }}
                    >
                      <Icon name="share" size={20} />
                    </button>
                    <button 
                      style={{
                        padding: ODLTheme.spacing[2],
                        color: ODLTheme.colors.text.secondary,
                        background: 'transparent',
                        border: 'none',
                        borderRadius: ODLTheme.spacing[1],
                        cursor: 'pointer',
                        display: 'flex',
                        alignItems: 'center',
                        justifyContent: 'center',
                        transition: ODLTheme.transitions.base
                      }}
                      title="More Options"
                      onMouseEnter={(e) => {
                        e.currentTarget.style.color = ODLTheme.colors.text.primary;
                        e.currentTarget.style.backgroundColor = ODLTheme.colors.surface;
                      }}
                      onMouseLeave={(e) => {
                        e.currentTarget.style.color = ODLTheme.colors.text.secondary;
                        e.currentTarget.style.backgroundColor = 'transparent';
                      }}
                    >
                      <Icon name="overflow-menu-vertical" size={20} />
                    </button>
                  </>
                }
                onRowSelect={(selected) => console.log('Interactive demo - Selected rows:', selected)}
              />
            </div>
          </div>
        )}

        {selectedDemo === 'performance' && (
          <div className={styles.tableSection}>
            <div className={styles.sectionHeader}>
              <h2>Performance & Scale Testing</h2>
              <p>Demonstrates table performance with large datasets (1000+ rows) and optimized rendering</p>
              <div className={styles.performanceStats}>
                <span className={styles.statItem}>
                  <strong>{performanceData.length.toLocaleString()}</strong> rows
                </span>
                <span className={styles.statItem}>
                  <strong>{basicColumns.length}</strong> columns
                </span>
                <span className={styles.statItem}>
                  <strong>Virtual scrolling</strong> enabled
                </span>
              </div>
            </div>

            {/* ODL vs MUI Performance Table Comparison - Stacked Vertically */}
            {showComparison && (
              <div style={{
                marginBottom: '48px',
                padding: '24px',
                backgroundColor: '#f9fafb',
                borderRadius: '8px',
              }}>
                <h2 style={{
                  fontSize: '24px',
                  fontWeight: 600,
                  marginBottom: '24px',
                  color: '#111827',
                }}>
                  Performance Table Component Comparison
                </h2>
                <p style={{ marginBottom: '32px', color: '#6b7280' }}>
                  ODL AdvancedTable vs MUI DataGrid with large datasets - both handling {performanceData.length.toLocaleString()} rows
                </p>

                {/* ODL Performance Table */}
                <div style={{ marginBottom: '32px' }}>
                  <div style={{
                    display: 'flex',
                    alignItems: 'center',
                    marginBottom: '16px',
                    gap: '8px',
                  }}>
                    <h3 style={{
                      fontSize: '18px',
                      fontWeight: 500,
                      color: '#374151',
                      margin: 0,
                    }}>
                      ODL Advanced Table (First 100 rows)
                    </h3>
                    <span style={{
                      padding: '2px 8px',
                      borderRadius: '4px',
                      fontSize: '12px',
                      fontWeight: 600,
                      backgroundColor: '#3560C1',
                      color: 'white',
                    }}>
                      ODL
                    </span>
                  </div>
                  <div style={{ height: 400, width: '100%', border: '1px solid #e5e7eb', borderRadius: '8px', overflow: 'hidden', backgroundColor: 'white' }}>
                    <Table
                      data={performanceData.slice(0, 100)}
                      columns={basicColumns}
                      pageSize={25}
                      paginated={true}
                      selectable={true}
                      striped={true}
                      hoverable={true}
                      title="Performance Demo - Limited View"
                    />
                  </div>
                </div>

                {/* MUI Performance DataGrid */}
                <div>
                  <div style={{
                    display: 'flex',
                    alignItems: 'center',
                    marginBottom: '16px',
                    gap: '8px',
                  }}>
                    <h3 style={{
                      fontSize: '18px',
                      fontWeight: 500,
                      color: '#374151',
                      margin: 0,
                    }}>
                      MUI DataGrid with ODL Theme (All {performanceData.length.toLocaleString()} rows)
                    </h3>
                    <span style={{
                      padding: '2px 8px',
                      borderRadius: '4px',
                      fontSize: '12px',
                      fontWeight: 600,
                      backgroundColor: '#8B5CF6',
                      color: 'white',
                    }}>
                      MUI
                    </span>
                  </div>
                  <div style={{ height: 400, width: '100%' }}>
                    <DataGrid
                      rows={performanceData}
                      columns={muiBasicColumns}
                      pageSize={25}
                      rowsPerPageOptions={[25, 50, 100]}
                      checkboxSelection
                      disableSelectionOnClick
                      sx={{
                        backgroundColor: 'white',
                        border: '1px solid #e0e0e0',
                        borderRadius: '8px',
                        '& .MuiDataGrid-cell': {
                          borderBottom: '1px solid #f0f0f0',
                          fontSize: '14px',
                          color: '#374151'
                        },
                        '& .MuiDataGrid-columnHeader': {
                          backgroundColor: '#f9fafb',
                          borderBottom: '2px solid #e0e0e0',
                          fontSize: '14px',
                          fontWeight: 600,
                          color: '#111827'
                        },
                        '& .MuiDataGrid-row:hover': {
                          backgroundColor: '#f8fafc'
                        },
                        '& .MuiDataGrid-row.Mui-selected': {
                          backgroundColor: '#e0f3fe'
                        },
                        '& .MuiDataGrid-footerContainer': {
                          backgroundColor: '#f9fafb',
                          borderTop: '1px solid #e0e0e0'
                        }
                      }}
                    />
                  </div>
                </div>
              </div>
            )}

            <div className={styles.tableContainer}>
              <AdvancedTable
                data={performanceData}
                columns={advancedColumns}
                itemsPerPage={25}
                paginated={true}
                selectable={true}
                showSearch={true}
                showColumnToggle={true}
                showExport={true}
                showBulkActions={true}
                bulkActions={[
                  {
                    label: 'Batch Update',
                    action: (items) => {
                      console.log('Batch updating items:', items);
                      alert(`Processing batch update for ${items.length} record${items.length !== 1 ? 's' : ''}`);
                    },
                    variant: 'primary'
                  },
                  {
                    label: 'Export Selected',
                    action: (items) => {
                      const csvContent = [
                        'Name,Email,Role,Department,Status',
                        ...items.map(item => `${item.name},${item.email},${item.role},${item.department},${item.status}`)
                      ].join('\n');
                      
                      const blob = new Blob([csvContent], { type: 'text/csv' });
                      const url = URL.createObjectURL(blob);
                      const a = document.createElement('a');
                      a.href = url;
                      a.download = `selected-employees-${items.length}.csv`;
                      a.click();
                      URL.revokeObjectURL(url);
                    },
                    variant: 'secondary'
                  }
                ]}
                exportFormats={['csv', 'json']}
                title="Large Dataset Performance Demo"
                subtitle={`Efficiently handling ${performanceData.length.toLocaleString()} employee records with bulk operations`}
              />
            </div>
          </div>
        )}

        {/* Code Examples Panel */}
        {showCode && (
          <div className={styles.codePanel}>
            <h3>Code Example</h3>
            <pre className={styles.codeBlock}>
              <code>{getCodeExample(selectedDemo)}</code>
            </pre>
          </div>
        )}
      </div>

      {/* Enhanced Feature Showcase */}
      <div className={styles.featuresShowcase}>
        <div className={styles.sectionHeader}>
          <h3>Complete Feature Set</h3>
          <p>Everything you need for modern data table implementations</p>
        </div>
        
        <div className={styles.featureGrid}>
          <div className={styles.featureCategory}>
            <h4>ðŸ“Š Core Features</h4>
            <ul>
              <li>âœ“ Sorting (single & multi-column)</li>
              <li>âœ“ Pagination with customizable page sizes</li>
              <li>âœ“ Row selection (single & multi-select)</li>
              <li>âœ“ Bulk actions for selected rows</li>
              <li>âœ“ Custom cell rendering</li>
              <li>âœ“ Keyboard navigation</li>
            </ul>
          </div>
          
          <div className={styles.featureCategory}>
            <h4>ðŸ” Advanced Filtering</h4>
            <ul>
              <li>âœ“ Global search across all columns</li>
              <li>âœ“ Column-specific filters</li>
              <li>âœ“ Date range filtering</li>
              <li>âœ“ Numeric range filters</li>
              <li>âœ“ Custom filter functions</li>
            </ul>
          </div>
          
          <div className={styles.featureCategory}>
            <h4>âš™ï¸ Customization</h4>
            <ul>
              <li>âœ“ Column visibility controls</li>
              <li>âœ“ Dynamic column resizing</li>
              <li>âœ“ Custom themes & styling</li>
              <li>âœ“ Conditional row/cell formatting</li>
              <li>âœ“ Loading states & placeholders</li>
            </ul>
          </div>
          
          <div className={styles.featureCategory}>
            <h4>ðŸ“¤ Export & Integration</h4>
            <ul>
              <li>âœ“ CSV export with custom formatting</li>
              <li>âœ“ JSON export for data interchange</li>
              <li>âœ“ PDF export (with custom layouts)</li>
              <li>âœ“ API integration helpers</li>
              <li>âœ“ Real-time data synchronization</li>
            </ul>
          </div>
          
          <div className={styles.featureCategory}>
            <h4>ðŸŽ¯ Performance</h4>
            <ul>
              <li>âœ“ Virtual scrolling for large datasets</li>
              <li>âœ“ Lazy loading & pagination</li>
              <li>âœ“ Memoized rendering optimizations</li>
              <li>âœ“ Debounced search & filtering</li>
              <li>âœ“ Memory-efficient state management</li>
            </ul>
          </div>
          
          <div className={styles.featureCategory}>
            <h4>ðŸ‘ Accessibility</h4>
            <ul>
              <li>âœ“ WCAG 2.1 AA compliance</li>
              <li>âœ“ Screen reader support</li>
              <li>âœ“ Keyboard-only navigation</li>
              <li>âœ“ High contrast mode</li>
              <li>âœ“ Focus management & indicators</li>
            </ul>
          </div>
        </div>
      </div>
      
      {/* Back to Top Button */}
      <BackToTop />
    </div>
    </ODLThemeProvider>
  );

};

export default TableDemo;