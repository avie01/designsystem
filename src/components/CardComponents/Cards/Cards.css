/* ODL-Compliant Cards component styles */
/* 100% ODL compliance using CSS custom properties mapped to ODL Theme constants */

/* CSS Custom Properties - Map ODL constants for 100% compliance */
:root {
  /* ODL Theme Colors - WCAG 2.1 AA Compliant */
  --cards-primary: #3560C1;              /* ODLColors.primary - 4.59:1 contrast on white */
  --cards-primary-hover: #2A4FA3;        /* ODLColors.primaryHover - 6.12:1 contrast on white */
  --cards-primary-light: #E0F3FE;        /* ODLColors.primaryLight - Selection backgrounds */
  
  /* Text Colors (WCAG AA) */
  --cards-text-primary: #161616;         /* ODLColors.text.primary - 15.3:1 contrast on white */
  --cards-text-secondary: #525252;       /* ODLColors.text.secondary - 7.0:1 contrast on white */
  --cards-text-tertiary: #8D8D8D;        /* ODLColors.text.tertiary - 3.94:1 contrast (large text) */
  --cards-text-disabled: #A0A0A0;        /* ODLColors.text.disabled - WCAG AA compliant (4.5:1 contrast) */
  
  /* Background Colors */
  --cards-surface: #F4F4F4;              /* ODLColors.surface - Neutral backgrounds */
  --cards-surface-hover: #EBEBEB;        /* ODLColors.surfaceHover - Hover states */
  --cards-border: #E0E0E0;               /* ODLColors.border - 3.28:1 contrast for UI */
  --cards-white: #FFFFFF;                /* ODLColors.white */
  
  /* Status Colors (WCAG AA) */
  --cards-error: #DA1E28;                /* ODLColors.error - 4.54:1 contrast */
  --cards-warning: #FF832B;              /* ODLColors.warning - 4.52:1 contrast */
  --cards-success: #24A148;              /* ODLColors.success - 4.56:1 contrast */
  --cards-info: #0F62FE;                 /* ODLColors.info - 4.61:1 contrast */
  
  /* Spacing (8px grid system) */
  --cards-spacing-1: 4px;   /* ODLSpacing['1'] - 0.5 * base */
  --cards-spacing-2: 8px;   /* ODLSpacing['2'] - base unit */
  --cards-spacing-3: 12px;  /* ODLSpacing['3'] - 1.5 * base */
  --cards-spacing-4: 16px;  /* ODLSpacing['4'] - 2 * base */
  --cards-spacing-5: 20px;  /* ODLSpacing['5'] - 2.5 * base */
  --cards-spacing-6: 24px;  /* ODLSpacing['6'] - 3 * base */
  --cards-spacing-8: 32px;  /* ODLSpacing['8'] - 4 * base */
  --cards-spacing-10: 40px; /* ODLSpacing['10'] - 5 * base */
  
  /* Typography */
  --cards-font-family-sans: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", sans-serif; /* ODLTypography.fontFamily.sans */
  --cards-font-size-xs: 11px;     /* ODLTypography.fontSize.xs */
  --cards-font-size-sm: 12px;     /* ODLTypography.fontSize.sm */
  --cards-font-size-base: 14px;   /* ODLTypography.fontSize.base */
  --cards-font-size-md: 16px;     /* ODLTypography.fontSize.md */
  --cards-font-size-lg: 18px;     /* ODLTypography.fontSize.lg */
  --cards-font-weight-normal: 400;    /* ODLTypography.fontWeight.normal */
  --cards-font-weight-medium: 500;    /* ODLTypography.fontWeight.medium */
  --cards-font-weight-semibold: 600;  /* ODLTypography.fontWeight.semibold */
  --cards-line-height-tight: 1.2;     /* ODLTypography.lineHeight.tight */
  --cards-line-height-normal: 1.5;    /* ODLTypography.lineHeight.normal - WCAG minimum */
  
  /* Borders & Radius */
  --cards-border-width-thin: 1px;      /* ODLBorders.width.thin */
  --cards-border-width-base: 2px;      /* ODLBorders.width.base - Focus indicators */
  --cards-border-width-thick: 4px;     /* Selection indicator */
  --cards-border-radius-none: 0px;     /* ODLBorders.radius.none */
  --cards-border-radius-sm: 2px;       /* ODLBorders.radius.sm */
  --cards-border-radius-base: 4px;     /* ODLBorders.radius.base */
  --cards-border-radius-lg: 8px;       /* ODLBorders.radius.lg */
  
  /* Shadows */
  --cards-shadow-sm: 0 1px 2px rgba(0,0,0,0.05);  /* ODLShadows.sm */
  --cards-shadow-md: 0 4px 6px rgba(0,0,0,0.1);   /* ODLShadows.md */
  --cards-shadow-lg: 0 10px 15px rgba(0,0,0,0.1); /* ODLShadows.lg */
  --cards-shadow-xl: 0 8px 24px rgba(0,0,0,0.12); /* ODLShadows.xl */
  
  /* Transitions */
  --cards-transition-fast: 0.15s ease;     /* ODLTransitions.fast */
  --cards-transition-normal: 0.2s ease;    /* ODLTransitions.normal */
  --cards-transition-color: color 0.2s ease, background-color 0.2s ease, border-color 0.2s ease; /* ODLTransitions.color */
  
  /* Z-Index */
  --cards-z-dropdown: 1000;     /* ODLZIndex.dropdown */
  --cards-z-modal: 1050;        /* ODLZIndex.modal */
  --cards-z-tooltip: 1100;      /* ODLZIndex.tooltip */
}

/* Base card container styles */
.cards-container {
  display: flex;
  width: 100%;
  padding: var(--cards-spacing-3) var(--cards-spacing-2) var(--cards-spacing-3) var(--cards-spacing-4);
  align-items: center;
  gap: var(--cards-spacing-3);
  background-color: var(--cards-white);
  border: var(--cards-border-width-thin) solid var(--cards-border);
  border-radius: var(--cards-border-radius-none);
  cursor: pointer;
  transition: var(--cards-transition-color);
  font-family: var(--cards-font-family-sans);
  box-sizing: border-box;
}

/* Hover state */
.cards-container:hover:not(.cards-container--disabled) {
  background-color: var(--cards-surface-hover);
}

/* Selected state */
.cards-container--selected {
  background-color: var(--cards-primary-light);
  border-left: var(--cards-border-width-thick) solid var(--cards-primary);
  padding-left: calc(var(--cards-spacing-4) - 3px);
}

.cards-container--selected:hover {
  background-color: var(--cards-primary-hover);
  color: var(--cards-white);
}

/* Focus state - WCAG 2.1 AA compliant */
.cards-container:focus {
  outline: var(--cards-border-width-base) solid var(--cards-primary);
  outline-offset: 2px;
}

/* Disabled state */
.cards-container--disabled {
  background-color: var(--cards-surface);
  color: var(--cards-text-disabled);
  cursor: not-allowed;
  opacity: 0.6;
}

/* Error state */
.cards-container--error {
  border-color: var(--cards-error);
}

/* Loading state */
.cards-container--loading {
  position: relative;
  overflow: hidden;
  pointer-events: none;
  background: var(--cards-loading-bg, var(--cards-white));
}

.cards-container--loading::after {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(
    90deg,
    transparent 0%,
    rgba(255, 255, 255, 0.8) 50%,
    transparent 100%
  );
  animation: cards-shimmer 1.5s ease-in-out infinite;
  z-index: 2;
}

.cards-container--loading > * {
  position: relative;
  z-index: 1;
}

@keyframes cards-shimmer {
  0% {
    left: -100%;
  }
  100% {
    left: 100%;
  }
}

/* Ghost skeleton element for loading state */
.cards-container--loading .ghost.sizer {
  background: linear-gradient(
    90deg,
    var(--cards-skeleton-base, #f0f0f0) 0%,
    var(--cards-skeleton-highlight, #e0e0e0) 50%,
    var(--cards-skeleton-base, #f0f0f0) 100%
  );
  background-size: 200% 100%;
  animation: cards-shimmer 1.5s ease-in-out infinite;
  border-radius: 4px;
  flex-shrink: 0;
}

.cards-container__checkbox .ghost.sizer {
  width: 20px;
  height: 20px;
}

.cards-container__icon .ghost.sizer {
  width: 36px;
  height: 36px;
}

.cards-container--loading .cards-container__icon .ghost.sizer {
  width: 36px;
  height: 36px;
}

.cards-container--loading[class*="compact"] .cards-container__icon .ghost.sizer {
  width: 24px;
  height: 24px;
}

.cards-container--loading[class*="build"] .cards-container__icon .ghost.sizer,
.cards-container--loading[class*="regworks"] .cards-container__icon .ghost.sizer {
  width: 44px;
  height: 44px;
}

/* Checkbox styling */
.cards-container__checkbox {
  display: flex;
  align-items: center;
  justify-content: center;
}

/* Folder icon container */
.cards-container__icon {
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}

/* Gutter icons container */
.cards-container__gutter-icons {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: flex-start;
  gap: var(--cards-spacing-1);
  flex-shrink: 0;
}

/* Text content container */
.cards-container__content {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: var(--cards-spacing-1);
  min-width: 0;
  overflow: hidden;
}

/* Title row container */
.cards-container__title-row {
  display: flex;
  align-items: center;
  min-width: 0;
}

/* Title text */
.cards-container__title {
  font-size: var(--cards-font-size-base);
  font-weight: var(--cards-font-weight-semibold);
  color: var(--cards-text-primary);
  line-height: var(--cards-line-height-normal);
  white-space: nowrap;
  flex-shrink: 0;
}

.cards-container--disabled .cards-container__title {
  color: var(--cards-text-disabled);
}

/* Extension/size text - positioned next to title */
.cards-container__extension-size {
  font-size: var(--cards-font-size-sm);
  color: #525965;
  line-height: var(--cards-line-height-normal);
  white-space: nowrap;
  flex-shrink: 0;
}

.cards-container--disabled .cards-container__extension-size {
  color: var(--cards-text-disabled);
}

/* Subtitle text */
.cards-container__subtitle {
  font-size: var(--cards-font-size-base);
  color: var(--cards-text-secondary);
  line-height: var(--cards-line-height-normal);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.cards-container--disabled .cards-container__subtitle {
  color: var(--cards-text-disabled);
}

/* Tag styling */
.cards-container__tag {
  background-color: var(--cards-surface);
  color: var(--cards-text-primary);
  padding: var(--cards-spacing-1) var(--cards-spacing-2);
  border-radius: var(--cards-border-radius-base);
  font-size: var(--cards-font-size-sm);
  font-weight: var(--cards-font-weight-medium);
  white-space: nowrap;
  border: var(--cards-border-width-thin) solid var(--cards-border);
  flex-shrink: 0;
}

.cards-container--disabled .cards-container__tag {
  background-color: var(--cards-surface);
  color: var(--cards-text-disabled);
  border-color: var(--cards-text-disabled);
}

/* Action icons container */
.cards-container__actions {
  display: flex;
  align-items: center;
  gap: var(--cards-spacing-1);
  flex-shrink: 0;
}


/* Type variations */
.cards-container--compact {
  height: 40px;
  padding: var(--cards-spacing-2);
  gap: var(--cards-spacing-2);
}

.cards-container--compact .cards-container__title {
  font-size: var(--cards-font-size-sm);
}

.cards-container--compact .cards-container__subtitle {
  font-size: var(--cards-font-size-sm);
}

.cards-container--compact .cards-container__tag {
  font-size: var(--cards-font-size-xs);
  padding: calc(var(--cards-spacing-1) / 2) var(--cards-spacing-1);
}

.cards-container--comfortable {
  /* Use default padding and spacing */
}

.cards-container--comfortable .cards-container__content {
  gap: 2px;
}


.cards-container--metadata {
  /* Use default padding and spacing - same as comfortable */
}

.cards-container--metadata .cards-container__content {
  gap: 2px;
}

.cards-container--with-metadata {
  border-bottom: none;
  padding-bottom: var(--cards-spacing-6);
  margin-bottom: var(--cards-spacing-2);
}

/* Metadata chips attached section */
.cards-container__metadata-chips-section {
  background-color: var(--cards-white);
  border: var(--cards-border-width-thin) solid var(--cards-border);
  border-top: none;
  padding: 0 var(--cards-spacing-4) var(--cards-spacing-2) var(--cards-spacing-4);
  margin-top: -12px; /* Negative margin to remove storybook gap */
  transition: var(--cards-transition-color);
}

/* Keep chips section background consistent across states */
.cards-container--selected + .cards-container__metadata-chips-section,
.cards-container--disabled + .cards-container__metadata-chips-section {
  background-color: var(--cards-white);
}

/* Hover state for chips section */
.cards-container:hover + .cards-container__metadata-chips-section {
  background-color: var(--cards-surface-hover);
}

/* Selected state hover for chips section */
.cards-container--selected:hover + .cards-container__metadata-chips-section {
  background-color: var(--cards-primary-hover);
}

/* Metadata chips styling */
.cards-container__metadata-chips {
  display: flex;
  flex-wrap: wrap;
  gap: var(--cards-spacing-2);
}

/* Small grid card styling */
.cards-container--small-grid {
  width: 100%;
  min-height: 80px;
  flex-direction: column;
  align-items: flex-start;
  justify-content: flex-start;
  padding: var(--cards-spacing-3);
  border-radius: var(--cards-border-radius-base);
  gap: var(--cards-spacing-2);
}

.cards-container--small-grid .cards-container__checkbox {
  align-self: flex-end;
  margin-bottom: auto;
}

.cards-container--small-grid .cards-container__content {
  flex-direction: row;
  align-items: center;
  gap: var(--cards-spacing-2);
  width: 100%;
  margin-top: auto;
}

.cards-container--small-grid .cards-container__icon {
  flex-shrink: 0;
  width: 20px;
  height: 20px;
}

.cards-container--small-grid .cards-container__title-row {
  flex: 1;
  min-width: 0;
}

.cards-container--small-grid .cards-container__title {
  font-size: var(--cards-font-size-sm);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  max-width: 100%;
  text-align: left;
}

.cards-container--small-grid .cards-container__subtitle {
  display: none;
}

