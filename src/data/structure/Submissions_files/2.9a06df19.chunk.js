(this["webpackJsonp@isovistltd/submissions-internal"]=this["webpackJsonp@isovistltd/submissions-internal"]||[]).push([[2],{1014:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=h(o(22)),i=h(o(15)),r=h(o(21)),a=h(o(23)),l=h(o(24)),s=h(o(29)),u=o(1),c=h(u),d=h(o(3)),f=h(o(176)),p=h(o(45));h(o(178));function h(e){return e&&e.__esModule?e:{default:e}}var y=function(e){function t(){var e,o,r,l;(0,i.default)(this,t);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return o=r=(0,a.default)(this,(e=t.__proto__||(0,n.default)(t)).call.apply(e,[this].concat(u))),r.state={open:!1},l=o,(0,a.default)(r,l)}return(0,l.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){this.setState({open:!0})}},{key:"componentWillReceiveProps",value:function(e){this.setState({open:e.open})}},{key:"render",value:function(){var e=this.props,t=e.className,o=e.style,n=e.zDepth,i=function(e,t,o){var n=e.targetOrigin,i=o.open,r=t.muiTheme,a=n.horizontal.replace("middle","center");return{root:{position:"fixed",zIndex:r.zIndex.popover,opacity:i?1:0,transform:i?"scaleY(1)":"scaleY(0)",transformOrigin:a+" "+n.vertical,transition:p.default.easeOut("450ms",["transform","opacity"]),maxHeight:"100%"}}}(this.props,this.context,this.state);return c.default.createElement(f.default,{style:(0,s.default)(i.root,o),zDepth:n,className:t},this.props.children)}}]),t}(u.Component);y.defaultProps={style:{},zDepth:1},y.contextTypes={muiTheme:d.default.object.isRequired},y.propTypes={},t.default=y},1106:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=y(o(34)),i=y(o(35)),r=y(o(22)),a=y(o(15)),l=y(o(21)),s=y(o(23)),u=y(o(24)),c=y(o(29)),d=o(1),f=y(d),p=y(o(3)),h=y(o(1168));function y(e){return e&&e.__esModule?e:{default:e}}var v=function(e){function t(){return(0,a.default)(this,t),(0,s.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,u.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props,t=e.children,o=e.style,r=(0,i.default)(e,["children","style"]),a=this.context.muiTheme.prepareStyles,l=!1,s=d.Children.toArray(t)[0];(0,d.isValidElement)(s)&&s.type===h.default&&(l=!0);var u={root:{padding:(l?0:8)+"px 0px 8px 0px"}};return f.default.createElement("div",(0,n.default)({},r,{style:a((0,c.default)(u.root,o))}),t)}}]),t}(d.Component);v.contextTypes={muiTheme:p.default.object.isRequired},v.propTypes={},t.default=v},1113:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=E(o(35)),i=E(o(34)),r=E(o(22)),a=E(o(15)),l=E(o(21)),s=E(o(23)),u=E(o(24)),c=E(o(29)),d=o(1),f=E(d),p=E(o(3)),h=E(o(59)),y=E(o(182)),v=o(112),m=E(o(45)),g=E(o(179)),b=E(o(746)),T=E(o(1148)),x=E(o(1149)),k=E(o(1175));function E(e){return e&&e.__esModule?e:{default:e}}var C=function(e){function t(){var e,o,n,l;(0,a.default)(this,t);for(var u=arguments.length,c=Array(u),d=0;d<u;d++)c[d]=arguments[d];return o=n=(0,s.default)(this,(e=t.__proto__||(0,r.default)(t)).call.apply(e,[this].concat(c))),n.state={hovered:!1,isKeyboardFocused:!1,open:!1,rightIconButtonHovered:!1,rightIconButtonKeyboardFocused:!1,touch:!1},n.handleKeyboardFocus=function(e,t){n.setState({isKeyboardFocused:t}),n.props.onKeyboardFocus(e,t)},n.handleMouseEnter=function(e){n.state.touch||n.setState({hovered:!0}),n.props.onMouseEnter(e)},n.handleMouseLeave=function(e){n.setState({hovered:!1}),n.props.onMouseLeave(e)},n.handleClick=function(e){n.props.onClick&&n.props.onClick(e),n.props.primaryTogglesNestedList&&n.handleNestedListToggle(e)},n.handleNestedListToggle=function(e){n.props.leftCheckbox&&e.preventDefault(),e.stopPropagation(),null===n.props.open?n.setState({open:!n.state.open},(function(){n.props.onNestedListToggle(n)})):n.props.onNestedListToggle((0,i.default)({},n,{state:{open:!n.state.open}}))},n.handleRightIconButtonKeyboardFocus=function(e,t){t&&n.setState({isKeyboardFocused:!1,rightIconButtonKeyboardFocused:t});var o=n.props.rightIconButton;o&&o.props.onKeyboardFocus&&o.props.onKeyboardFocus(e,t)},n.handleRightIconButtonMouseLeave=function(e){var t=n.props.rightIconButton;n.setState({rightIconButtonHovered:!1}),t&&t.props.onMouseLeave&&t.props.onMouseLeave(e)},n.handleRightIconButtonMouseEnter=function(e){var t=n.props.rightIconButton;n.setState({rightIconButtonHovered:!0}),t&&t.props.onMouseEnter&&t.props.onMouseEnter(e)},n.handleRightIconButtonMouseUp=function(e){var t=n.props.rightIconButton;e.stopPropagation(),t&&t.props.onMouseUp&&t.props.onMouseUp(e)},n.handleRightIconButtonClick=function(e){var t=n.props.rightIconButton;e.stopPropagation(),t&&t.props.onClick&&t.props.onClick(e)},n.handleTouchStart=function(e){n.setState({touch:!0}),n.props.onTouchStart(e)},n.handleTouchEnd=function(e){n.setState({touch:!0}),n.props.onTouchEnd(e)},l=o,(0,s.default)(n,l)}return(0,u.default)(t,e),(0,l.default)(t,[{key:"componentWillMount",value:function(){this.setState({open:null===this.props.open?!0===this.props.initiallyOpen:this.props.open})}},{key:"componentWillReceiveProps",value:function(e){null!==e.open&&this.setState({open:e.open}),e.disabled&&this.state.hovered&&this.setState({hovered:!1})}},{key:"shouldComponentUpdate",value:function(e,t,o){return!(0,y.default)(this.props,e)||!(0,y.default)(this.state,t)||!(0,y.default)(this.context,o)}},{key:"applyFocusState",value:function(e){if(this.button){var t=h.default.findDOMNode(this.button);switch(e){case"none":t.blur();break;case"focused":t.focus();break;case"keyboard-focused":this.button.setKeyboardFocus(),t.focus()}}}},{key:"createDisabledElement",value:function(e,t,o){var n=this.props,r=n.innerDivStyle,a=n.style,l=(0,c.default)({},e.root,e.innerDiv,r,a);return f.default.createElement("div",(0,i.default)({},o,{style:this.context.muiTheme.prepareStyles(l)}),t)}},{key:"createLabelElement",value:function(e,t,o){var n=this.props,r=n.innerDivStyle,a=n.style,l=(0,c.default)({},e.root,e.innerDiv,r,e.label,a);return f.default.createElement("label",(0,i.default)({},o,{style:this.context.muiTheme.prepareStyles(l)}),t)}},{key:"createTextElement",value:function(e,t,o){var n=this.context.muiTheme.prepareStyles;if(f.default.isValidElement(t)){var i=(0,c.default)({},e,t.props.style);return"string"===typeof t.type&&(i=n(i)),f.default.cloneElement(t,{key:o,style:i})}return f.default.createElement("div",{key:o,style:n(e)},t)}},{key:"pushElement",value:function(e,t,o,n){if(t){var r=(0,c.default)({},o,t.props.style);e.push(f.default.cloneElement(t,(0,i.default)({key:e.length,style:r},n)))}}},{key:"render",value:function(){var e=this,t=this.props,o=t.autoGenerateNestedIndicator,r=t.children,a=t.containerElement,l=t.disabled,s=t.disableKeyboardFocus,u=(t.hoverColor,t.initiallyOpen,t.innerDivStyle),d=(t.insetChildren,t.leftAvatar),p=t.leftCheckbox,h=t.leftIcon,y=t.nestedItems,E=t.nestedLevel,C=t.nestedListStyle,L=(t.onKeyboardFocus,t.isKeyboardFocused,t.onMouseEnter,t.onMouseLeave,t.onNestedListToggle,t.onTouchStart,t.onClick,t.rightAvatar),M=t.rightIcon,_=t.rightIconButton,I=t.rightToggle,w=t.primaryText,S=t.primaryTogglesNestedList,O=t.secondaryText,P=(t.secondaryTextLines,t.style),z=(0,n.default)(t,["autoGenerateNestedIndicator","children","containerElement","disabled","disableKeyboardFocus","hoverColor","initiallyOpen","innerDivStyle","insetChildren","leftAvatar","leftCheckbox","leftIcon","nestedItems","nestedLevel","nestedListStyle","onKeyboardFocus","isKeyboardFocused","onMouseEnter","onMouseLeave","onNestedListToggle","onTouchStart","onClick","rightAvatar","rightIcon","rightIconButton","rightToggle","primaryText","primaryTogglesNestedList","secondaryText","secondaryTextLines","style"]),A=this.context.muiTheme.prepareStyles,N=function(e,t,o){var n=e.autoGenerateNestedIndicator,i=e.insetChildren,r=e.leftAvatar,a=e.leftCheckbox,l=e.leftIcon,s=e.nestedItems,u=e.nestedLevel,c=e.rightAvatar,d=e.rightIcon,f=e.rightIconButton,p=e.rightToggle,h=e.secondaryText,y=e.secondaryTextLines,g=t.muiTheme,b=g.listItem,T=g.baseTheme.palette.textColor,x=e.hoverColor||(0,v.fade)(T,.1),k=!h&&(r||c),E=!h&&!(r||c),C=h&&1===y,L=h&&y>1;return{root:{backgroundColor:!(void 0!==e.isKeyboardFocused?e:o).isKeyboardFocused&&!o.hovered||o.rightIconButtonHovered||o.rightIconButtonKeyboardFocused?null:x,color:T,display:"block",fontSize:16,lineHeight:"16px",position:"relative",transition:m.default.easeOut()},innerDiv:{marginLeft:u*b.nestedLevelDepth,paddingLeft:l||r||a||i?72:16,paddingRight:d||c||f||s.length&&n?56:p?72:16,paddingBottom:k?20:16,paddingTop:E||L?16:20,position:"relative"},icons:{height:24,width:24,display:"block",position:"absolute",top:C?12:k?4:0,margin:12},leftIcon:{left:4},rightIcon:{right:4},avatars:{position:"absolute",top:k?8:16},label:{cursor:"pointer"},leftAvatar:{left:16},rightAvatar:{right:16},leftCheckbox:{position:"absolute",display:"block",width:24,top:C?24:k?16:12,left:16},primaryText:{},rightIconButton:{position:"absolute",display:"block",top:C?12:k?4:0,right:4},rightToggle:{position:"absolute",display:"block",width:54,top:C?25:k?17:13,right:8},secondaryText:{fontSize:14,lineHeight:L?"18px":"16px",height:L?36:16,margin:0,marginTop:4,color:b.secondaryTextColor,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:L?null:"nowrap",display:L?"-webkit-box":null,WebkitLineClamp:L?2:null,WebkitBoxOrient:L?"vertical":null}}}(this.props,this.context,this.state),F=[r];if(h){var R={color:h.props.color||this.context.muiTheme.listItem.leftIconColor};this.pushElement(F,h,(0,c.default)({},N.icons,N.leftIcon),R)}if(M){var B={color:M.props.color||this.context.muiTheme.listItem.rightIconColor};this.pushElement(F,M,(0,c.default)({},N.icons,N.rightIcon),B)}d&&this.pushElement(F,d,(0,c.default)({},N.avatars,N.leftAvatar)),L&&this.pushElement(F,L,(0,c.default)({},N.avatars,N.rightAvatar)),p&&this.pushElement(F,p,(0,c.default)({},N.leftCheckbox));var D=y.length&&o&&!(L||M||_||I);if(_||D){var j=_,K={onKeyboardFocus:this.handleRightIconButtonKeyboardFocus,onMouseEnter:this.handleRightIconButtonMouseEnter,onMouseLeave:this.handleRightIconButtonMouseLeave,onClick:this.handleRightIconButtonClick,onMouseDown:this.handleRightIconButtonMouseUp,onMouseUp:this.handleRightIconButtonMouseUp};D&&(j=this.state.open?f.default.createElement(b.default,null,f.default.createElement(T.default,null)):f.default.createElement(b.default,null,f.default.createElement(x.default,null)),K.onClick=this.handleNestedListToggle),this.pushElement(F,j,(0,c.default)({},N.rightIconButton),K)}if(I&&this.pushElement(F,I,(0,c.default)({},N.rightToggle)),w){var W=this.createTextElement(N.primaryText,w,"primaryText");F.push(W)}if(O){var H=this.createTextElement(N.secondaryText,O,"secondaryText");F.push(H)}var q=y.length?f.default.createElement(k.default,{nestedLevel:E,open:this.state.open,style:C},y):void 0,U=!S&&(p||I);return f.default.createElement("div",null,U?this.createLabelElement(N,F,z):l?this.createDisabledElement(N,F,z):f.default.createElement(g.default,(0,i.default)({containerElement:a},z,{disableKeyboardFocus:s||this.state.rightIconButtonKeyboardFocused,onKeyboardFocus:this.handleKeyboardFocus,onMouseLeave:this.handleMouseLeave,onMouseEnter:this.handleMouseEnter,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onClick:this.handleClick,disabled:l,ref:function(t){return e.button=t},style:(0,c.default)({},N.root,P)}),f.default.createElement("div",{style:A((0,c.default)(N.innerDiv,u))},F)),q)}}]),t}(d.Component);C.muiName="ListItem",C.defaultProps={autoGenerateNestedIndicator:!0,containerElement:"span",disableKeyboardFocus:!1,disabled:!1,initiallyOpen:!1,insetChildren:!1,nestedItems:[],nestedLevel:0,onKeyboardFocus:function(){},onMouseEnter:function(){},onMouseLeave:function(){},onNestedListToggle:function(){},onTouchEnd:function(){},onTouchStart:function(){},open:null,primaryTogglesNestedList:!1,secondaryTextLines:1},C.contextTypes={muiTheme:p.default.object.isRequired},C.propTypes={},t.default=C},1148:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(o(1)),i=a(o(51)),r=a(o(52));function a(e){return e&&e.__esModule?e:{default:e}}var l=function(e){return n.default.createElement(r.default,e,n.default.createElement("path",{d:"M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"}))};(l=(0,i.default)(l)).displayName="NavigationExpandLess",l.muiName="SvgIcon",t.default=l},1149:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(o(1)),i=a(o(51)),r=a(o(52));function a(e){return e&&e.__esModule?e:{default:e}}var l=function(e){return n.default.createElement(r.default,e,n.default.createElement("path",{d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"}))};(l=(0,i.default)(l)).displayName="NavigationExpandMore",l.muiName="SvgIcon",t.default=l},1168:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=o(1169),r=(n=i)&&n.__esModule?n:{default:n};t.default=r.default},1169:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(o(34)),i=s(o(35)),r=s(o(29)),a=s(o(1)),l=s(o(3));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(e,t){var o=e.children,l=e.inset,s=e.style,u=(0,i.default)(e,["children","inset","style"]),c=t.muiTheme,d=c.prepareStyles,f=c.subheader,p={root:{boxSizing:"border-box",color:f.color,fontSize:14,fontWeight:f.fontWeight,lineHeight:"48px",paddingLeft:l?72:16,width:"100%"}};return a.default.createElement("div",(0,n.default)({},u,{style:d((0,r.default)(p.root,s))}),o)};u.muiName="Subheader",u.propTypes={},u.defaultProps={inset:!1},u.contextTypes={muiTheme:l.default.object.isRequired},t.default=u},1173:function(e,t,o){(function(t){var o="Expected a function",n=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,r=/^0b[01]+$/i,a=/^0o[0-7]+$/i,l=parseInt,s="object"==typeof t&&t&&t.Object===Object&&t,u="object"==typeof self&&self&&self.Object===Object&&self,c=s||u||Function("return this")(),d=Object.prototype.toString,f=Math.max,p=Math.min,h=function(){return c.Date.now()};function y(e,t,n){var i,r,a,l,s,u,c=0,d=!1,y=!1,g=!0;if("function"!=typeof e)throw new TypeError(o);function b(t){var o=i,n=r;return i=r=void 0,c=t,l=e.apply(n,o)}function T(e){var o=e-u;return void 0===u||o>=t||o<0||y&&e-c>=a}function x(){var e=h();if(T(e))return k(e);s=setTimeout(x,function(e){var o=t-(e-u);return y?p(o,a-(e-c)):o}(e))}function k(e){return s=void 0,g&&i?b(e):(i=r=void 0,l)}function E(){var e=h(),o=T(e);if(i=arguments,r=this,u=e,o){if(void 0===s)return function(e){return c=e,s=setTimeout(x,t),d?b(e):l}(u);if(y)return s=setTimeout(x,t),b(u)}return void 0===s&&(s=setTimeout(x,t)),l}return t=m(t)||0,v(n)&&(d=!!n.leading,a=(y="maxWait"in n)?f(m(n.maxWait)||0,t):a,g="trailing"in n?!!n.trailing:g),E.cancel=function(){void 0!==s&&clearTimeout(s),c=0,i=u=r=s=void 0},E.flush=function(){return void 0===s?l:k(h())},E}function v(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function m(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==d.call(e)}(e))return NaN;if(v(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=v(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(n,"");var o=r.test(e);return o||a.test(e)?l(e.slice(2),o?2:8):i.test(e)?NaN:+e}e.exports=function(e,t,n){var i=!0,r=!0;if("function"!=typeof e)throw new TypeError(o);return v(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),y(e,t,{leading:i,maxWait:t,trailing:r})}}).call(this,o(47))},1174:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=h(o(22)),i=h(o(15)),r=h(o(21)),a=h(o(23)),l=h(o(24)),s=h(o(29)),u=h(o(45)),c=o(1),d=h(c),f=h(o(3)),p=(h(o(178)),h(o(176)));function h(e){return e&&e.__esModule?e:{default:e}}var y=function(e){function t(){var e,o,r,l;(0,i.default)(this,t);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return o=r=(0,a.default)(this,(e=t.__proto__||(0,n.default)(t)).call.apply(e,[this].concat(u))),r.state={open:!1},l=o,(0,a.default)(r,l)}return(0,l.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){this.setState({open:!0})}},{key:"componentWillReceiveProps",value:function(e){this.setState({open:e.open})}},{key:"render",value:function(){var e=this.props,t=e.className,o=e.style,n=e.zDepth,i=this.context.muiTheme.prepareStyles,r=function(e,t,o){var n=e.targetOrigin,i=o.open,r=t.muiTheme,a=n.horizontal.replace("middle","vertical");return{root:{position:"fixed",zIndex:r.zIndex.popover,opacity:i?1:0,transform:i?"scale(1, 1)":"scale(0, 0)",transformOrigin:a+" "+n.vertical,transition:u.default.easeOut("250ms",["transform","opacity"]),maxHeight:"100%"},horizontal:{maxHeight:"100%",overflowY:"auto",transform:i?"scaleX(1)":"scaleX(0)",opacity:i?1:0,transformOrigin:a+" "+n.vertical,transition:u.default.easeOut("250ms",["transform","opacity"])},vertical:{opacity:i?1:0,transform:i?"scaleY(1)":"scaleY(0)",transformOrigin:a+" "+n.vertical,transition:u.default.easeOut("500ms",["transform","opacity"])}}}(this.props,this.context,this.state);return d.default.createElement(p.default,{style:(0,s.default)(r.root,o),zDepth:n,className:t},d.default.createElement("div",{style:i(r.horizontal)},d.default.createElement("div",{style:i(r.vertical)},this.props.children)))}}]),t}(c.Component);y.defaultProps={style:{},zDepth:1},y.contextTypes={muiTheme:f.default.object.isRequired},y.propTypes={},t.default=y},1175:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(1),i=a(n),r=(a(o(3)),a(o(1106)));function a(e){return e&&e.__esModule?e:{default:e}}var l=function(e){var t=e.children,o=e.open,a=e.nestedLevel,l=e.style;return o?i.default.createElement(r.default,{style:l},n.Children.map(t,(function(e){return(0,n.isValidElement)(e)?(0,n.cloneElement)(e,{nestedLevel:a+1}):e}))):null};l.propTypes={},t.default=l},748:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(o(1)),i=a(o(51)),r=a(o(52));function a(e){return e&&e.__esModule?e:{default:e}}var l=function(e){return n.default.createElement(r.default,e,n.default.createElement("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}))};(l=(0,i.default)(l)).displayName="NavigationCheck",l.muiName="SvgIcon",t.default=l},875:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=T(o(34)),i=T(o(35)),r=T(o(22)),a=T(o(15)),l=T(o(21)),s=T(o(23)),u=T(o(24)),c=T(o(29)),d=o(1),f=T(d),p=T(o(3)),h=T(o(59)),y=T(o(365)),v=T(o(995)),m=(T(o(178)),T(o(176))),g=T(o(1173)),b=T(o(1174));function T(e){return e&&e.__esModule?e:{default:e}}var x={root:{display:"none"}},k=function(e){function t(e,o){(0,a.default)(this,t);var l=(0,s.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e,o));return l.timeout=null,l.renderLayer=function(){var e=l.props,t=e.animated,o=e.animation,r=(e.anchorEl,e.anchorOrigin,e.autoCloseWhenOffScreen,e.canAutoPosition,e.children),a=(e.onRequestClose,e.style),s=e.targetOrigin,u=(e.useLayerForClickAway,e.scrollableContainer,(0,i.default)(e,["animated","animation","anchorEl","anchorOrigin","autoCloseWhenOffScreen","canAutoPosition","children","onRequestClose","style","targetOrigin","useLayerForClickAway","scrollableContainer"])),d=a;if(!t)return d={position:"fixed",zIndex:l.context.muiTheme.zIndex.popover},l.state.open?f.default.createElement(m.default,(0,n.default)({style:(0,c.default)(d,a)},u),r):null;var p=o||b.default;return f.default.createElement(p,(0,n.default)({targetOrigin:s,style:d},u,{open:l.state.open&&!l.state.closing}),r)},l.componentClickAway=function(){l.requestClose("clickAway")},l.setPlacement=function(e){if(l.state.open&&l.popoverRefs.layer.getLayer()){var t=l.popoverRefs.layer.getLayer().children[0];if(t){var o=l.props,n=o.targetOrigin,i=o.anchorOrigin,r=l.props.anchorEl||l.anchorEl,a=l.getAnchorPosition(r),s=l.getTargetPosition(t),u={top:a[i.vertical]-s[n.vertical],left:a[i.horizontal]-s[n.horizontal]};e&&l.props.autoCloseWhenOffScreen&&l.autoCloseWhenOffScreen(a),l.props.canAutoPosition&&(s=l.getTargetPosition(t),u=l.applyAutoPositionIfNeeded(a,s,n,i,u)),t.style.top=u.top+"px",t.style.left=u.left+"px",t.style.maxHeight=window.innerHeight+"px"}}},l.handleResize=(0,g.default)(l.setPlacement,100),l.handleScroll=(0,g.default)(l.setPlacement.bind(l,!0),50),l.popoverRefs={},l.state={open:e.open,closing:!1},l}return(0,u.default)(t,e),(0,l.default)(t,[{key:"componentDidMount",value:function(){this.placementTimeout=setTimeout(this.setPlacement)}},{key:"componentWillReceiveProps",value:function(e){var t=this;if(e.open!==this.props.open)if(e.open)clearTimeout(this.timeout),this.timeout=null,this.anchorEl=e.anchorEl||this.props.anchorEl,this.setState({open:!0,closing:!1});else if(e.animated){if(null!==this.timeout)return;this.setState({closing:!0}),this.timeout=setTimeout((function(){t.setState({open:!1},(function(){t.timeout=null}))}),500)}else this.setState({open:!1})}},{key:"componentDidUpdate",value:function(){clearTimeout(this.placementTimeout),this.placementTimeout=setTimeout(this.setPlacement)}},{key:"componentWillUnmount",value:function(){this.handleResize.cancel(),this.handleScroll.cancel(),this.placementTimeout&&(clearTimeout(this.placementTimeout),this.placementTimeout=null),this.timeout&&(clearTimeout(this.timeout),this.timeout=null)}},{key:"requestClose",value:function(e){this.props.onRequestClose&&this.props.onRequestClose(e)}},{key:"getAnchorPosition",value:function(e){e||(e=h.default.findDOMNode(this));var t=e.getBoundingClientRect(),o={top:t.top,left:t.left,width:e.offsetWidth,height:e.offsetHeight};return o.right=t.right||o.left+o.width,o.bottom=t.bottom||o.top+o.height,o.middle=o.left+(o.right-o.left)/2,o.center=o.top+(o.bottom-o.top)/2,o}},{key:"getTargetPosition",value:function(e){return{top:0,center:e.offsetHeight/2,bottom:e.offsetHeight,left:0,middle:e.offsetWidth/2,right:e.offsetWidth}}},{key:"autoCloseWhenOffScreen",value:function(e){(e.top<0||e.top>window.innerHeight||e.left<0||e.left>window.innerWidth)&&this.requestClose("offScreen")}},{key:"getOverlapMode",value:function(e,t,o){return[e,t].indexOf(o)>=0?"auto":e===t?"inclusive":"exclusive"}},{key:"getPositions",value:function(e,t){var o=(0,n.default)({},e),i=(0,n.default)({},t),r={x:["left","right"].filter((function(e){return e!==i.horizontal})),y:["top","bottom"].filter((function(e){return e!==i.vertical}))},a=this.getOverlapMode(o.horizontal,i.horizontal,"middle"),l=this.getOverlapMode(o.vertical,i.vertical,"center");return r.x.splice("auto"===a?0:1,0,"middle"),r.y.splice("auto"===l?0:1,0,"center"),"auto"!==l&&(o.vertical="top"===o.vertical?"bottom":"top","inclusive"===l&&(i.vertical=i.vertical)),"auto"!==a&&(o.horizontal="left"===o.horizontal?"right":"left","inclusive"===l&&(i.horizontal=i.horizontal)),{positions:r,anchorPos:o}}},{key:"applyAutoPositionIfNeeded",value:function(e,t,o,n,i){var r=this.getPositions(n,o),a=r.positions,l=r.anchorPos;if(i.top<0||i.top+t.bottom>window.innerHeight){var s=e[l.vertical]-t[a.y[0]];(s+t.bottom<=window.innerHeight||(s=e[l.vertical]-t[a.y[1]])+t.bottom<=window.innerHeight)&&(i.top=Math.max(0,s))}if(i.left<0||i.left+t.right>window.innerWidth){var u=e[l.horizontal]-t[a.x[0]];(u+t.right<=window.innerWidth||(u=e[l.horizontal]-t[a.x[1]])+t.right<=window.innerWidth)&&(i.left=Math.max(0,u))}return i}},{key:"render",value:function(){var e=this,t=this.state.open?f.default.createElement(y.default,{target:this.props.scrollableContainer,onScroll:this.handleScroll,onResize:this.handleResize}):null;return f.default.createElement("div",{style:x.root},t,f.default.createElement(v.default,{ref:function(t){return e.popoverRefs.layer=t},open:this.state.open,componentClickAway:this.componentClickAway,useLayerForClickAway:this.props.useLayerForClickAway,render:this.renderLayer}))}}]),t}(d.Component);k.defaultProps={anchorOrigin:{vertical:"bottom",horizontal:"left"},animated:!0,autoCloseWhenOffScreen:!0,canAutoPosition:!0,onRequestClose:function(){},open:!1,scrollableContainer:"window",style:{overflowY:"auto"},targetOrigin:{vertical:"top",horizontal:"left"},useLayerForClickAway:!0,zDepth:1},k.contextTypes={muiTheme:p.default.object.isRequired},k.propTypes={},t.default=k},995:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=f(o(22)),i=f(o(15)),r=f(o(21)),a=f(o(23)),l=f(o(24)),s=o(1),u=f(o(3)),c=o(59),d=f(o(396));function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(){var e,o,r,l;(0,i.default)(this,t);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return o=r=(0,a.default)(this,(e=t.__proto__||(0,n.default)(t)).call.apply(e,[this].concat(u))),r.onClickAway=function(e){if(!e.defaultPrevented&&r.props.componentClickAway&&r.props.open){var t=r.layer;(e.target!==t&&e.target===window||document.documentElement.contains(e.target)&&!d.default.isDescendant(t,e.target))&&r.props.componentClickAway(e)}},l=o,(0,a.default)(r,l)}return(0,l.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){this.renderLayer()}},{key:"componentDidUpdate",value:function(){this.renderLayer()}},{key:"componentWillUnmount",value:function(){this.unrenderLayer()}},{key:"getLayer",value:function(){return this.layer}},{key:"unrenderLayer",value:function(){this.layer&&(this.props.useLayerForClickAway?(this.layer.style.position="relative",this.layer.removeEventListener("click",this.onClickAway)):window.removeEventListener("click",this.onClickAway),(0,c.unmountComponentAtNode)(this.layer),document.body.removeChild(this.layer),this.layer=null)}},{key:"renderLayer",value:function(){var e=this,t=this.props,o=t.open,n=t.render;if(o){this.layer||(this.layer=document.createElement("div"),document.body.appendChild(this.layer),this.props.useLayerForClickAway?(this.layer.addEventListener("click",this.onClickAway),this.layer.style.position="fixed",this.layer.style.top=0,this.layer.style.bottom=0,this.layer.style.left=0,this.layer.style.right=0,this.layer.style.zIndex=this.context.muiTheme.zIndex.layer):setTimeout((function(){window.addEventListener("click",e.onClickAway)}),0));var i=n();this.layerElement=(0,c.unstable_renderSubtreeIntoContainer)(this,i,this.layer)}else this.unrenderLayer()}},{key:"render",value:function(){return null}}]),t}(s.Component);p.defaultProps={useLayerForClickAway:!0},p.contextTypes={muiTheme:u.default.object.isRequired},p.propTypes={},t.default=p}}]);